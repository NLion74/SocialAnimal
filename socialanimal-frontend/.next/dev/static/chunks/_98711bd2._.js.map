{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/env.ts"],"sourcesContent":["function getEnv(key: string, defaultValue?: string): string {\n    const value = process.env[key] ?? defaultValue;\n    if (value === undefined) {\n        throw new Error(`Missing environment variable: ${key}`);\n    }\n    return value;\n}\n\nexport const env = {\n    API_URL: \"\",\n\n    ICS_BASE_URL: process.env.NEXT_PUBLIC_PUBLIC_URL ?? \"http://localhost:3001\",\n};\n"],"names":[],"mappings":";;;;AAWkB;AAXlB,SAAS,OAAO,GAAW,EAAE,YAAqB;IAC9C,MAAM,QAAQ,2KAAO,CAAC,GAAG,CAAC,IAAI,IAAI;IAClC,IAAI,UAAU,WAAW;QACrB,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,KAAK;IAC1D;IACA,OAAO;AACX;AAEO,MAAM,MAAM;IACf,SAAS;IAET,cAAc,6DAAsC;AACxD"}},
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/GeneralTab.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"backBtn\": \"GeneralTab-module__gdDy2G__backBtn\",\n  \"badge\": \"GeneralTab-module__gdDy2G__badge\",\n  \"badgeGreen\": \"GeneralTab-module__gdDy2G__badgeGreen\",\n  \"badgeMuted\": \"GeneralTab-module__gdDy2G__badgeMuted\",\n  \"badgePurple\": \"GeneralTab-module__gdDy2G__badgePurple\",\n  \"btn\": \"GeneralTab-module__gdDy2G__btn\",\n  \"btnDanger\": \"GeneralTab-module__gdDy2G__btnDanger\",\n  \"btnIcon\": \"GeneralTab-module__gdDy2G__btnIcon\",\n  \"btnPrimary\": \"GeneralTab-module__gdDy2G__btnPrimary\",\n  \"btnRow\": \"GeneralTab-module__gdDy2G__btnRow\",\n  \"btnSecondary\": \"GeneralTab-module__gdDy2G__btnSecondary\",\n  \"btnSm\": \"GeneralTab-module__gdDy2G__btnSm\",\n  \"closeBtn\": \"GeneralTab-module__gdDy2G__closeBtn\",\n  \"copiedMsg\": \"GeneralTab-module__gdDy2G__copiedMsg\",\n  \"empty\": \"GeneralTab-module__gdDy2G__empty\",\n  \"emptyIcon\": \"GeneralTab-module__gdDy2G__emptyIcon\",\n  \"error\": \"GeneralTab-module__gdDy2G__error\",\n  \"fadein\": \"GeneralTab-module__gdDy2G__fadein\",\n  \"fieldLabel\": \"GeneralTab-module__gdDy2G__fieldLabel\",\n  \"formRow\": \"GeneralTab-module__gdDy2G__formRow\",\n  \"formStack\": \"GeneralTab-module__gdDy2G__formStack\",\n  \"hint\": \"GeneralTab-module__gdDy2G__hint\",\n  \"input\": \"GeneralTab-module__gdDy2G__input\",\n  \"linkInput\": \"GeneralTab-module__gdDy2G__linkInput\",\n  \"linkRow\": \"GeneralTab-module__gdDy2G__linkRow\",\n  \"list\": \"GeneralTab-module__gdDy2G__list\",\n  \"loading\": \"GeneralTab-module__gdDy2G__loading\",\n  \"metaText\": \"GeneralTab-module__gdDy2G__metaText\",\n  \"modal\": \"GeneralTab-module__gdDy2G__modal\",\n  \"modalHeader\": \"GeneralTab-module__gdDy2G__modalHeader\",\n  \"modalTitle\": \"GeneralTab-module__gdDy2G__modalTitle\",\n  \"overlay\": \"GeneralTab-module__gdDy2G__overlay\",\n  \"page\": \"GeneralTab-module__gdDy2G__page\",\n  \"pageHeader\": \"GeneralTab-module__gdDy2G__pageHeader\",\n  \"pageTitle\": \"GeneralTab-module__gdDy2G__pageTitle\",\n  \"row\": \"GeneralTab-module__gdDy2G__row\",\n  \"rowActions\": \"GeneralTab-module__gdDy2G__rowActions\",\n  \"rowInfo\": \"GeneralTab-module__gdDy2G__rowInfo\",\n  \"rowMeta\": \"GeneralTab-module__gdDy2G__rowMeta\",\n  \"rowName\": \"GeneralTab-module__gdDy2G__rowName\",\n  \"rowUrl\": \"GeneralTab-module__gdDy2G__rowUrl\",\n  \"section\": \"GeneralTab-module__gdDy2G__section\",\n  \"sectionHeader\": \"GeneralTab-module__gdDy2G__sectionHeader\",\n  \"sectionTitle\": \"GeneralTab-module__gdDy2G__sectionTitle\",\n  \"slideup\": \"GeneralTab-module__gdDy2G__slideup\",\n  \"spin\": \"GeneralTab-module__gdDy2G__spin\",\n  \"spinner\": \"GeneralTab-module__gdDy2G__spinner\",\n  \"statCard\": \"GeneralTab-module__gdDy2G__statCard\",\n  \"statLabel\": \"GeneralTab-module__gdDy2G__statLabel\",\n  \"statValue\": \"GeneralTab-module__gdDy2G__statValue\",\n  \"statsGrid\": \"GeneralTab-module__gdDy2G__statsGrid\",\n  \"typeBtn\": \"GeneralTab-module__gdDy2G__typeBtn\",\n  \"typeDesc\": \"GeneralTab-module__gdDy2G__typeDesc\",\n  \"typeGrid\": \"GeneralTab-module__gdDy2G__typeGrid\",\n  \"typeName\": \"GeneralTab-module__gdDy2G__typeName\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 87, "column": 0}, "map": {"version":3,"sources":["file:///app/components/GeneralTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n    Plus,\n    RefreshCw,\n    Trash2,\n    X,\n    Copy,\n    Check,\n    Link,\n    Calendar,\n} from \"lucide-react\";\nimport { env } from \"@/lib/env\";\nimport s from \"./GeneralTab.module.css\";\nimport { useCallback } from \"react\";\n\ninterface CalendarData {\n    id: string;\n    name: string;\n    type: string;\n    url?: string;\n    events: { id: string; title: string }[];\n    lastSync?: string;\n}\ninterface Friend {\n    id: string;\n    user1: { id: string; email: string; name?: string };\n    user2: { id: string; email: string; name?: string };\n    status: string;\n    sharedCalendarIds: string[];\n    sharedWithMe: { id: string; name: string }[];\n}\n\nconst TYPES = [\n    {\n        value: \"ics_url\",\n        label: \"ICS / iCal URL\",\n        desc: \"Import from any public ICS URL\",\n        enabled: true,\n    },\n    {\n        value: \"google\",\n        label: \"Google Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n    {\n        value: \"apple\",\n        label: \"Apple Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n    {\n        value: \"proton\",\n        label: \"Proton Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n];\n\nfunction getUid(): string | null {\n    const t =\n        typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n    if (!t) return null;\n    try {\n        return JSON.parse(atob(t)).sub;\n    } catch {\n        return null;\n    }\n}\n\nexport default function GeneralTab() {\n    const [calendars, setCalendars] = useState<CalendarData[]>([]);\n    const [friends, setFriends] = useState<Friend[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [syncingId, setSyncingId] = useState<string | null>(null);\n\n    const [showImport, setShowImport] = useState(false);\n    const [selType, setSelType] = useState<string | null>(null);\n    const [impName, setImpName] = useState(\"\");\n    const [impUrl, setImpUrl] = useState(\"\");\n    const [importing, setImporting] = useState(false);\n    const [impErr, setImpErr] = useState(\"\");\n    const [impSync, setImpSync] = useState(60);\n\n    const [showExport, setShowExport] = useState(false);\n    const [exportLink, setExportLink] = useState(\"\");\n    const [exportLabel, setExportLabel] = useState(\"\");\n    const [copied, setCopied] = useState(false);\n\n    useEffect(() => {\n        load();\n    }, []);\n\n    const api = useCallback(\n        (path: string, opts?: RequestInit) =>\n            fetch(path, {\n                ...opts,\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    ...(opts?.body\n                        ? { \"Content-Type\": \"application/json\" }\n                        : {}),\n                    ...(opts?.headers ?? {}),\n                },\n            }),\n        [],\n    );\n\n    const load = async () => {\n        setLoading(true);\n        const [cr, fr] = await Promise.all([\n            api(\"/api/calendars\"),\n            api(\"/api/friends\"),\n        ]);\n        if (cr.ok) setCalendars(await cr.json());\n        if (fr.ok) setFriends(await fr.json());\n        setLoading(false);\n    };\n\n    const closeImport = () => {\n        setShowImport(false);\n        setSelType(null);\n        setImpName(\"\");\n        setImpUrl(\"\");\n        setImpErr(\"\");\n        setImpSync(60);\n    };\n\n    const doImport = async () => {\n        if (!selType || !impName || (selType === \"ics_url\" && !impUrl)) return;\n        setImporting(true);\n        setImpErr(\"\");\n        try {\n            const r = await api(\"/api/calendars\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    name: impName,\n                    type: selType,\n                    url: impUrl || null,\n                }),\n            });\n            if (!r.ok)\n                throw new Error((await r.json()).error || \"Import failed\");\n            closeImport();\n            load();\n        } catch (e) {\n            setImpErr(e instanceof Error ? e.message : \"Import failed\");\n        } finally {\n            setImporting(false);\n        }\n    };\n\n    const doSync = async (id: string) => {\n        setSyncingId(id);\n        await api(`/api/calendars/${id}/sync`, { method: \"POST\" });\n        load();\n        setSyncingId(null);\n    };\n\n    const doDelete = async (id: string) => {\n        if (!confirm(\"Delete this calendar and all its events?\")) return;\n        await api(`/api/calendars/${id}`, { method: \"DELETE\" });\n        load();\n    };\n\n    const openExport = (\n        type: \"all\" | \"calendar\" | \"friend\",\n        id?: string,\n        label?: string,\n    ) => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const base = env.ICS_BASE_URL;\n        const t = encodeURIComponent(token);\n\n        const link =\n            type === \"all\"\n                ? `${base}/api/ics/my-calendar.ics?token=${t}`\n                : type === \"calendar\"\n                  ? `${base}/api/ics/calendar/${id}.ics?token=${t}`\n                  : `${base}/api/ics/friend/${id}.ics?token=${t}`;\n\n        setExportLink(link);\n        setExportLabel(label ?? \"Full calendar\");\n        setShowExport(true);\n        setCopied(false);\n    };\n\n    const doCopy = () => {\n        navigator.clipboard.writeText(exportLink);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n    };\n\n    const uid = getUid();\n    const accepted = friends.filter((f) => f.status === \"accepted\");\n    const total = calendars.reduce((n, c) => n + (c.events?.length || 0), 0);\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading‚Ä¶</span>\n            </div>\n        );\n\n    return (\n        <div className={s.page}>\n            <div className={s.pageHeader}>\n                <h1 className={s.pageTitle}>Dashboard</h1>\n                <div className={s.btnRow}>\n                    <button\n                        className={`${s.btn} ${s.btnSecondary}`}\n                        onClick={() => openExport(\"all\")}\n                    >\n                        <Link size={14} /> Export All\n                    </button>\n                    <button\n                        className={`${s.btn} ${s.btnPrimary}`}\n                        onClick={() => setShowImport(true)}\n                    >\n                        <Plus size={14} /> Import Calendar\n                    </button>\n                </div>\n            </div>\n\n            <div className={s.statsGrid}>\n                {[\n                    { label: \"Calendars\", value: calendars.length },\n                    { label: \"Total Events\", value: total },\n                    { label: \"Friends\", value: accepted.length },\n                ].map(({ label, value }) => (\n                    <div key={label} className={s.statCard}>\n                        <div className={s.statValue}>{value}</div>\n                        <div className={s.statLabel}>{label}</div>\n                    </div>\n                ))}\n            </div>\n\n            <div className={s.section}>\n                <div className={s.sectionHeader}>\n                    <span className={s.sectionTitle}>My Calendars</span>\n                    <button\n                        className={`${s.btn} ${s.btnPrimary} ${s.btnSm}`}\n                        onClick={() => setShowImport(true)}\n                    >\n                        <Plus size={12} /> Add\n                    </button>\n                </div>\n\n                {calendars.length === 0 ? (\n                    <div className={s.empty}>\n                        <Calendar size={38} className={s.emptyIcon} />\n                        <span>\n                            No calendars yet ‚Äî import one to get started\n                        </span>\n                    </div>\n                ) : (\n                    <div className={s.list}>\n                        {calendars.map((c) => (\n                            <div key={c.id} className={s.row}>\n                                <div className={s.rowInfo}>\n                                    <div className={s.rowName}>{c.name}</div>\n                                    <div className={s.rowMeta}>\n                                        <span\n                                            className={`${s.badge} ${s.badgePurple}`}\n                                        >\n                                            {c.type}\n                                        </span>\n                                        <span className={s.metaText}>\n                                            {c.events?.length || 0} events\n                                        </span>\n                                        {c.lastSync && (\n                                            <span className={s.metaText}>\n                                                synced{\" \"}\n                                                {new Date(\n                                                    c.lastSync,\n                                                ).toLocaleString()}\n                                            </span>\n                                        )}\n                                    </div>\n                                    {c.url && (\n                                        <div className={s.rowUrl}>{c.url}</div>\n                                    )}\n                                </div>\n                                <div className={s.rowActions}>\n                                    <button\n                                        className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                        onClick={() =>\n                                            openExport(\"calendar\", c.id, c.name)\n                                        }\n                                        title=\"Get ICS link\"\n                                    >\n                                        <Link size={12} />\n                                    </button>\n                                    {c.type === \"ics_url\" && (\n                                        <button\n                                            className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                            onClick={() => doSync(c.id)}\n                                            disabled={syncingId === c.id}\n                                        >\n                                            <RefreshCw size={12} />\n                                            {syncingId === c.id\n                                                ? \"Syncing‚Ä¶\"\n                                                : \"Sync\"}\n                                        </button>\n                                    )}\n                                    <button\n                                        className={`${s.btn} ${s.btnDanger} ${s.btnSm} ${s.btnIcon}`}\n                                        onClick={() => doDelete(c.id)}\n                                    >\n                                        <Trash2 size={13} />\n                                    </button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n\n            {accepted.length > 0 && (\n                <div className={s.section}>\n                    <div className={s.sectionHeader}>\n                        <span className={s.sectionTitle}>\n                            Friends' Calendars\n                        </span>\n                    </div>\n                    <div className={s.list}>\n                        {accepted.map((f) => {\n                            const friend =\n                                f.user1.id === uid ? f.user2 : f.user1;\n                            const shared = f.sharedWithMe ?? [];\n\n                            return (\n                                <div key={f.id} className={s.row}>\n                                    <div className={s.rowInfo}>\n                                        <div className={s.rowName}>\n                                            {friend.name || friend.email}\n                                        </div>\n                                        <div className={s.rowMeta}>\n                                            <span className={s.metaText}>\n                                                {friend.email}\n                                            </span>\n                                            {shared.length === 0 && (\n                                                <span className={s.metaText}>\n                                                    No calendars shared with you\n                                                </span>\n                                            )}\n                                        </div>\n                                    </div>\n                                    {shared.length > 0 && (\n                                        <div className={s.rowActions}>\n                                            {shared.map((cal) => (\n                                                <button\n                                                    key={cal.id}\n                                                    className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                                    onClick={() =>\n                                                        openExport(\n                                                            \"calendar\",\n                                                            cal.id,\n                                                            `${friend.name || friend.email} ‚Äì ${cal.name}`,\n                                                        )\n                                                    }\n                                                >\n                                                    <Link size={12} />{\" \"}\n                                                    {cal.name}\n                                                </button>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            )}\n            {showImport && (\n                <div className={s.overlay} onClick={closeImport}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>\n                                Import Calendar\n                            </span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={closeImport}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n\n                        {!selType ? (\n                            <div className={s.typeGrid}>\n                                {TYPES.map((t) => (\n                                    <button\n                                        key={t.value}\n                                        className={s.typeBtn}\n                                        disabled={!t.enabled}\n                                        onClick={() =>\n                                            t.enabled && setSelType(t.value)\n                                        }\n                                    >\n                                        <div className={s.typeName}>\n                                            {t.label}\n                                        </div>\n                                        <div className={s.typeDesc}>\n                                            {t.desc}\n                                        </div>\n                                    </button>\n                                ))}\n                            </div>\n                        ) : (\n                            <div className={s.formStack}>\n                                <button\n                                    className={s.backBtn}\n                                    onClick={() => setSelType(null)}\n                                >\n                                    ‚Üê Back\n                                </button>\n                                <div>\n                                    <label className={s.fieldLabel}>\n                                        Calendar Name\n                                    </label>\n                                    <input\n                                        className={s.input}\n                                        type=\"text\"\n                                        value={impName}\n                                        onChange={(e) =>\n                                            setImpName(e.target.value)\n                                        }\n                                        placeholder=\"My Calendar\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className={s.fieldLabel}>\n                                        Auto-sync every (minutes)\n                                    </label>\n                                    <input\n                                        className={s.input}\n                                        type=\"number\"\n                                        min={0}\n                                        value={impSync}\n                                        onChange={(e) =>\n                                            setImpSync(Number(e.target.value))\n                                        }\n                                        placeholder=\"60 (0 = manual only)\"\n                                    />\n                                    <div className={s.hint}>\n                                        Set to 0 to disable automatic syncing.\n                                    </div>\n                                </div>\n                                <div>\n                                    <label className={s.fieldLabel}>\n                                        ICS URL\n                                    </label>\n                                    <input\n                                        className={s.input}\n                                        type=\"url\"\n                                        value={impUrl}\n                                        onChange={(e) =>\n                                            setImpUrl(e.target.value)\n                                        }\n                                        placeholder=\"https://example.com/calendar.ics\"\n                                        onKeyDown={(e) =>\n                                            e.key === \"Enter\" && doImport()\n                                        }\n                                    />\n                                    <div className={s.hint}>\n                                        Any public ICS/iCal URL ‚Äî Google,\n                                        Outlook, Fastmail, etc.\n                                    </div>\n                                </div>\n\n                                {impErr && (\n                                    <div className={s.error}>{impErr}</div>\n                                )}\n                                <div className={s.formRow}>\n                                    <button\n                                        className={`${s.btn} ${s.btnPrimary}`}\n                                        style={{ flex: 1 }}\n                                        onClick={doImport}\n                                        disabled={\n                                            importing || !impName || !impUrl\n                                        }\n                                    >\n                                        {importing ? \"Importing‚Ä¶\" : \"Import\"}\n                                    </button>\n                                    <button\n                                        className={`${s.btn} ${s.btnSecondary}`}\n                                        onClick={closeImport}\n                                    >\n                                        Cancel\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n\n            {showExport && (\n                <div className={s.overlay} onClick={() => setShowExport(false)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>\n                                ICS Subscription Link\n                            </span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setShowExport(false)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <p className={s.hint} style={{ marginBottom: \"1rem\" }}>\n                            Subscribe to{\" \"}\n                            <strong style={{ color: \"var(--text-primary)\" }}>\n                                {exportLabel}\n                            </strong>{\" \"}\n                            in any calendar app. This link stays live and always\n                            reflects the latest events.\n                        </p>\n                        <div className={s.linkRow}>\n                            <input\n                                readOnly\n                                className={s.linkInput}\n                                value={exportLink}\n                            />\n                            <button\n                                className={`${s.btn} ${s.btnPrimary} ${s.btnIcon}`}\n                                onClick={doCopy}\n                            >\n                                {copied ? (\n                                    <Check size={15} />\n                                ) : (\n                                    <Copy size={15} />\n                                )}\n                            </button>\n                        </div>\n                        {copied && (\n                            <div className={s.copiedMsg}>\n                                ‚úì Copied to clipboard\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1085, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/FriendsTab.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"badge\": \"FriendsTab-module__p9aSea__badge\",\n  \"badgeGreen\": \"FriendsTab-module__p9aSea__badgeGreen\",\n  \"badgeMuted\": \"FriendsTab-module__p9aSea__badgeMuted\",\n  \"badgeYellow\": \"FriendsTab-module__p9aSea__badgeYellow\",\n  \"btn\": \"FriendsTab-module__p9aSea__btn\",\n  \"btnDanger\": \"FriendsTab-module__p9aSea__btnDanger\",\n  \"btnPrimary\": \"FriendsTab-module__p9aSea__btnPrimary\",\n  \"btnSecondary\": \"FriendsTab-module__p9aSea__btnSecondary\",\n  \"btnSm\": \"FriendsTab-module__p9aSea__btnSm\",\n  \"btnSuccess\": \"FriendsTab-module__p9aSea__btnSuccess\",\n  \"closeBtn\": \"FriendsTab-module__p9aSea__closeBtn\",\n  \"empty\": \"FriendsTab-module__p9aSea__empty\",\n  \"emptyIcon\": \"FriendsTab-module__p9aSea__emptyIcon\",\n  \"error\": \"FriendsTab-module__p9aSea__error\",\n  \"fadein\": \"FriendsTab-module__p9aSea__fadein\",\n  \"fieldLabel\": \"FriendsTab-module__p9aSea__fieldLabel\",\n  \"formRow\": \"FriendsTab-module__p9aSea__formRow\",\n  \"formStack\": \"FriendsTab-module__p9aSea__formStack\",\n  \"input\": \"FriendsTab-module__p9aSea__input\",\n  \"list\": \"FriendsTab-module__p9aSea__list\",\n  \"loading\": \"FriendsTab-module__p9aSea__loading\",\n  \"modal\": \"FriendsTab-module__p9aSea__modal\",\n  \"modalHeader\": \"FriendsTab-module__p9aSea__modalHeader\",\n  \"modalSub\": \"FriendsTab-module__p9aSea__modalSub\",\n  \"modalTitle\": \"FriendsTab-module__p9aSea__modalTitle\",\n  \"overlay\": \"FriendsTab-module__p9aSea__overlay\",\n  \"page\": \"FriendsTab-module__p9aSea__page\",\n  \"pageHeader\": \"FriendsTab-module__p9aSea__pageHeader\",\n  \"pageTitle\": \"FriendsTab-module__p9aSea__pageTitle\",\n  \"permSelect\": \"FriendsTab-module__p9aSea__permSelect\",\n  \"row\": \"FriendsTab-module__p9aSea__row\",\n  \"rowActions\": \"FriendsTab-module__p9aSea__rowActions\",\n  \"rowEmail\": \"FriendsTab-module__p9aSea__rowEmail\",\n  \"rowInfo\": \"FriendsTab-module__p9aSea__rowInfo\",\n  \"rowMeta\": \"FriendsTab-module__p9aSea__rowMeta\",\n  \"rowName\": \"FriendsTab-module__p9aSea__rowName\",\n  \"section\": \"FriendsTab-module__p9aSea__section\",\n  \"sectionTitle\": \"FriendsTab-module__p9aSea__sectionTitle\",\n  \"shareList\": \"FriendsTab-module__p9aSea__shareList\",\n  \"shareRow\": \"FriendsTab-module__p9aSea__shareRow\",\n  \"shareRowName\": \"FriendsTab-module__p9aSea__shareRowName\",\n  \"slideup\": \"FriendsTab-module__p9aSea__slideup\",\n  \"spin\": \"FriendsTab-module__p9aSea__spin\",\n  \"spinner\": \"FriendsTab-module__p9aSea__spinner\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1135, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/api.ts"],"sourcesContent":["export function getToken(): string | null {\n    return typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n}\n\nexport function authHeaders(): Record<string, string> {\n    const t = getToken();\n    return t ? { Authorization: `Bearer ${t}` } : {};\n}\n\nexport async function apiFetch<T = any>(\n    path: string,\n    opts: RequestInit = {},\n): Promise<T> {\n    const res = await fetch(path, {\n        ...opts,\n        headers: {\n            ...authHeaders(),\n            ...(opts.body ? { \"Content-Type\": \"application/json\" } : {}),\n            ...(opts.headers ?? {}),\n        },\n    });\n    if (!res.ok) {\n        const err = await res.json().catch(() => ({ error: res.statusText }));\n        throw new Error(err.error ?? \"Request failed\");\n    }\n    return res.json();\n}\n\nexport function getUid(): string | null {\n    const t = getToken();\n    if (!t) return null;\n    try {\n        const parts = t.split(\".\");\n        const payload = parts.length === 3 ? parts[1] : parts[0];\n        return JSON.parse(atob(payload)).sub;\n    } catch {\n        return null;\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;AAAO,SAAS;IACZ,OAAO,uCAAgC,aAAa,OAAO,CAAC,WAAW;AAC3E;AAEO,SAAS;IACZ,MAAM,IAAI;IACV,OAAO,IAAI;QAAE,eAAe,CAAC,OAAO,EAAE,GAAG;IAAC,IAAI,CAAC;AACnD;AAEO,eAAe,SAClB,IAAY,EACZ,OAAoB,CAAC,CAAC;IAEtB,MAAM,MAAM,MAAM,MAAM,MAAM;QAC1B,GAAG,IAAI;QACP,SAAS;YACL,GAAG,aAAa;YAChB,GAAI,KAAK,IAAI,GAAG;gBAAE,gBAAgB;YAAmB,IAAI,CAAC,CAAC;YAC3D,GAAI,KAAK,OAAO,IAAI,CAAC,CAAC;QAC1B;IACJ;IACA,IAAI,CAAC,IAAI,EAAE,EAAE;QACT,MAAM,MAAM,MAAM,IAAI,IAAI,GAAG,KAAK,CAAC,IAAM,CAAC;gBAAE,OAAO,IAAI,UAAU;YAAC,CAAC;QACnE,MAAM,IAAI,MAAM,IAAI,KAAK,IAAI;IACjC;IACA,OAAO,IAAI,IAAI;AACnB;AAEO,SAAS;IACZ,MAAM,IAAI;IACV,IAAI,CAAC,GAAG,OAAO;IACf,IAAI;QACA,MAAM,QAAQ,EAAE,KAAK,CAAC;QACtB,MAAM,UAAU,MAAM,MAAM,KAAK,IAAI,KAAK,CAAC,EAAE,GAAG,KAAK,CAAC,EAAE;QACxD,OAAO,KAAK,KAAK,CAAC,KAAK,UAAU,GAAG;IACxC,EAAE,OAAM;QACJ,OAAO;IACX;AACJ"}},
    {"offset": {"line": 1191, "column": 0}, "map": {"version":3,"sources":["file:///app/components/FriendsTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { UserPlus, X, Check, Users, Share2 } from \"lucide-react\";\nimport s from \"./FriendsTab.module.css\";\nimport { apiFetch, getUid } from \"@/lib/api\";\n\ntype Permission = \"busy\" | \"titles\" | \"full\";\n\ninterface Friend {\n    id: string;\n    user1: { id: string; email: string; name?: string };\n    user2: { id: string; email: string; name?: string };\n    status: string;\n    createdAt: string;\n    sharedCalendarIds: string[];\n    sharedCalendarPermissions: Record<string, Permission>;\n}\n\ninterface CalendarData {\n    id: string;\n    name: string;\n}\n\nconst PERM_LABELS: Record<Permission, string> = {\n    busy: \"üî¥ Busy only\",\n    titles: \"üü° Titles only\",\n    full: \"üü¢ Full details\",\n};\n\nexport default function FriendsTab() {\n    const [friends, setFriends] = useState<Friend[]>([]);\n    const [calendars, setCalendars] = useState<CalendarData[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [showAdd, setShowAdd] = useState(false);\n    const [email, setEmail] = useState(\"\");\n    const [addErr, setAddErr] = useState(\"\");\n    const [adding, setAdding] = useState(false);\n\n    const [shareTarget, setShareTarget] = useState<Friend | null>(null);\n\n    const uid = getUid();\n\n    const load = useCallback(async () => {\n        setLoading(true);\n        const [fr, cr] = await Promise.all([\n            apiFetch<Friend[]>(\"/api/friends\").catch(() => []),\n            apiFetch<CalendarData[]>(\"/api/calendars\").catch(() => []),\n        ]);\n        setFriends(fr);\n        setCalendars(cr);\n        setLoading(false);\n        setShareTarget((prev) =>\n            prev ? (fr.find((f) => f.id === prev.id) ?? null) : null,\n        );\n    }, []);\n\n    useEffect(() => {\n        load();\n    }, [load]);\n\n    const getFriend = (f: Friend) => (f.user1.id === uid ? f.user2 : f.user1);\n    const isPending = (f: Friend) =>\n        f.status === \"pending\" && f.user1.id === uid;\n    const isIncoming = (f: Friend) =>\n        f.status === \"pending\" && f.user2.id === uid;\n\n    const sendRequest = async () => {\n        if (!email) return;\n        setAdding(true);\n        setAddErr(\"\");\n        try {\n            await apiFetch(\"/api/friends/request\", {\n                method: \"POST\",\n                body: JSON.stringify({ email }),\n            });\n            setShowAdd(false);\n            setEmail(\"\");\n            load();\n        } catch (e: any) {\n            setAddErr(e.message);\n        } finally {\n            setAdding(false);\n        }\n    };\n\n    const accept = async (id: string) => {\n        await apiFetch(`/api/friends/${id}/accept`, { method: \"POST\" }).catch(\n            () => {},\n        );\n        load();\n    };\n\n    const remove = async (id: string) => {\n        if (!confirm(\"Remove this friend?\")) return;\n        await apiFetch(`/api/friends/${id}`, { method: \"DELETE\" }).catch(\n            () => {},\n        );\n        load();\n    };\n\n    const toggleShare = async (\n        friendId: string,\n        calendarId: string,\n        share: boolean,\n        permission: Permission,\n    ) => {\n        setShareTarget((prev) => {\n            if (!prev) return prev;\n            const ids = share\n                ? [...new Set([...prev.sharedCalendarIds, calendarId])]\n                : prev.sharedCalendarIds.filter((id) => id !== calendarId);\n            const perms = { ...prev.sharedCalendarPermissions };\n            if (share) perms[calendarId] = permission;\n            else delete perms[calendarId];\n            return {\n                ...prev,\n                sharedCalendarIds: ids,\n                sharedCalendarPermissions: perms,\n            };\n        });\n\n        await apiFetch(\"/api/friends/share-calendar\", {\n            method: \"POST\",\n            body: JSON.stringify({ friendId, calendarId, share, permission }),\n        }).catch(() => {});\n        load();\n    };\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading‚Ä¶</span>\n            </div>\n        );\n\n    const accepted = friends.filter((f) => f.status === \"accepted\");\n    const pending = friends.filter((f) => f.status === \"pending\");\n\n    return (\n        <div className={s.page}>\n            <div className={s.pageHeader}>\n                <h1 className={s.pageTitle}>Friends</h1>\n                <button\n                    className={`${s.btn} ${s.btnPrimary}`}\n                    onClick={() => setShowAdd(true)}\n                >\n                    <UserPlus size={14} /> Add Friend\n                </button>\n            </div>\n\n            {/* Accepted */}\n            <div className={s.section}>\n                <div className={s.sectionTitle}>\n                    Friends ({accepted.length})\n                </div>\n                {accepted.length === 0 ? (\n                    <div className={s.empty}>\n                        <Users size={36} className={s.emptyIcon} />\n                        <span>No friends yet</span>\n                    </div>\n                ) : (\n                    <div className={s.list}>\n                        {accepted.map((f) => {\n                            const friend = getFriend(f);\n                            return (\n                                <div key={f.id} className={s.row}>\n                                    <div className={s.rowInfo}>\n                                        <div className={s.rowName}>\n                                            {friend.name || friend.email}\n                                        </div>\n                                        <div className={s.rowEmail}>\n                                            {friend.email}\n                                        </div>\n                                        {f.sharedCalendarIds.length > 0 && (\n                                            <div className={s.rowMeta}>\n                                                <span\n                                                    className={`${s.badge} ${s.badgeGreen}`}\n                                                >\n                                                    {f.sharedCalendarIds.length}{\" \"}\n                                                    shared\n                                                </span>\n                                            </div>\n                                        )}\n                                    </div>\n                                    <div className={s.rowActions}>\n                                        <button\n                                            className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                            onClick={() => setShareTarget(f)}\n                                        >\n                                            <Share2 size={12} /> Share\n                                        </button>\n                                        <button\n                                            className={`${s.btn} ${s.btnDanger} ${s.btnSm}`}\n                                            onClick={() => remove(f.id)}\n                                        >\n                                            Remove\n                                        </button>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                )}\n            </div>\n\n            {/* Pending */}\n            {pending.length > 0 && (\n                <div className={s.section}>\n                    <div className={s.sectionTitle}>Pending Requests</div>\n                    <div className={s.list}>\n                        {pending.map((f) => {\n                            const friend = getFriend(f);\n                            return (\n                                <div key={f.id} className={s.row}>\n                                    <div className={s.rowInfo}>\n                                        <div className={s.rowName}>\n                                            {friend.name || friend.email}\n                                        </div>\n                                        <div className={s.rowEmail}>\n                                            {friend.email}\n                                        </div>\n                                    </div>\n                                    <div className={s.rowActions}>\n                                        {isIncoming(f) ? (\n                                            <>\n                                                <button\n                                                    className={`${s.btn} ${s.btnSuccess} ${s.btnSm}`}\n                                                    onClick={() => accept(f.id)}\n                                                >\n                                                    <Check size={12} /> Accept\n                                                </button>\n                                                <button\n                                                    className={`${s.btn} ${s.btnDanger} ${s.btnSm}`}\n                                                    onClick={() => remove(f.id)}\n                                                >\n                                                    <X size={12} /> Decline\n                                                </button>\n                                            </>\n                                        ) : (\n                                            <span\n                                                className={`${s.badge} ${s.badgeMuted}`}\n                                            >\n                                                Sent\n                                            </span>\n                                        )}\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            )}\n\n            {/* Add Friend Modal */}\n            {showAdd && (\n                <div className={s.overlay} onClick={() => setShowAdd(false)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>Add Friend</span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setShowAdd(false)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <div className={s.formStack}>\n                            <div>\n                                <label className={s.fieldLabel}>\n                                    Friend's Email\n                                </label>\n                                <input\n                                    className={s.input}\n                                    type=\"email\"\n                                    value={email}\n                                    onChange={(e) => setEmail(e.target.value)}\n                                    placeholder=\"friend@example.com\"\n                                    onKeyDown={(e) =>\n                                        e.key === \"Enter\" && sendRequest()\n                                    }\n                                />\n                            </div>\n                            {addErr && <div className={s.error}>{addErr}</div>}\n                            <div className={s.formRow}>\n                                <button\n                                    className={`${s.btn} ${s.btnPrimary}`}\n                                    style={{ flex: 1 }}\n                                    onClick={sendRequest}\n                                    disabled={adding || !email}\n                                >\n                                    {adding ? \"Sending‚Ä¶\" : \"Send Request\"}\n                                </button>\n                                <button\n                                    className={`${s.btn} ${s.btnSecondary}`}\n                                    onClick={() => {\n                                        setShowAdd(false);\n                                        setEmail(\"\");\n                                        setAddErr(\"\");\n                                    }}\n                                >\n                                    Cancel\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n\n            {/* Share Calendars Modal */}\n            {shareTarget &&\n                (() => {\n                    const friend = getFriend(shareTarget);\n                    return (\n                        <div\n                            className={s.overlay}\n                            onClick={() => setShareTarget(null)}\n                        >\n                            <div\n                                className={s.modal}\n                                onClick={(e) => e.stopPropagation()}\n                            >\n                                <div className={s.modalHeader}>\n                                    <span className={s.modalTitle}>\n                                        Share with {friend.name || friend.email}\n                                    </span>\n                                    <button\n                                        className={s.closeBtn}\n                                        onClick={() => setShareTarget(null)}\n                                    >\n                                        <X size={18} />\n                                    </button>\n                                </div>\n                                <p className={s.modalSub}>\n                                    Choose which calendars to share and what\n                                    level of detail.\n                                </p>\n                                <div className={s.shareList}>\n                                    {calendars.length === 0 && (\n                                        <div className={s.empty}>\n                                            No calendars to share\n                                        </div>\n                                    )}\n                                    {calendars.map((cal) => {\n                                        const shared =\n                                            shareTarget.sharedCalendarIds.includes(\n                                                cal.id,\n                                            );\n                                        const perm: Permission =\n                                            shareTarget\n                                                .sharedCalendarPermissions?.[\n                                                cal.id\n                                            ] ?? \"full\";\n                                        return (\n                                            <div\n                                                key={cal.id}\n                                                className={s.shareRow}\n                                            >\n                                                <div className={s.shareRowName}>\n                                                    {cal.name}\n                                                </div>\n                                                <div\n                                                    style={{\n                                                        display: \"flex\",\n                                                        gap: \"0.5rem\",\n                                                        alignItems: \"center\",\n                                                    }}\n                                                >\n                                                    {shared && (\n                                                        <select\n                                                            className={\n                                                                s.permSelect\n                                                            }\n                                                            value={perm}\n                                                            onChange={(e) =>\n                                                                toggleShare(\n                                                                    friend.id,\n                                                                    cal.id,\n                                                                    true,\n                                                                    e.target\n                                                                        .value as Permission,\n                                                                )\n                                                            }\n                                                            onClick={(e) =>\n                                                                e.stopPropagation()\n                                                            }\n                                                        >\n                                                            {(\n                                                                Object.keys(\n                                                                    PERM_LABELS,\n                                                                ) as Permission[]\n                                                            ).map((p) => (\n                                                                <option\n                                                                    key={p}\n                                                                    value={p}\n                                                                >\n                                                                    {\n                                                                        PERM_LABELS[\n                                                                            p\n                                                                        ]\n                                                                    }\n                                                                </option>\n                                                            ))}\n                                                        </select>\n                                                    )}\n                                                    <button\n                                                        className={`${s.btn} ${shared ? s.btnDanger : s.btnSuccess} ${s.btnSm}`}\n                                                        onClick={() =>\n                                                            toggleShare(\n                                                                friend.id,\n                                                                cal.id,\n                                                                !shared,\n                                                                perm,\n                                                            )\n                                                        }\n                                                    >\n                                                        {shared\n                                                            ? \"Unshare\"\n                                                            : \"Share\"}\n                                                    </button>\n                                                </div>\n                                            </div>\n                                        );\n                                    })}\n                                </div>\n                            </div>\n                        </div>\n                    );\n                })()}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1932, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/CalendarTab.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"allDayEvents\": \"CalendarTab-module__qViykW__allDayEvents\",\n  \"allDayRow\": \"CalendarTab-module__qViykW__allDayRow\",\n  \"calBadgeFriend\": \"CalendarTab-module__qViykW__calBadgeFriend\",\n  \"calBadgeMine\": \"CalendarTab-module__qViykW__calBadgeMine\",\n  \"calDivider\": \"CalendarTab-module__qViykW__calDivider\",\n  \"calToggle\": \"CalendarTab-module__qViykW__calToggle\",\n  \"calToggleName\": \"CalendarTab-module__qViykW__calToggleName\",\n  \"calToggleOn\": \"CalendarTab-module__qViykW__calToggleOn\",\n  \"calendarArea\": \"CalendarTab-module__qViykW__calendarArea\",\n  \"cell\": \"CalendarTab-module__qViykW__cell\",\n  \"cellEmpty\": \"CalendarTab-module__qViykW__cellEmpty\",\n  \"cellToday\": \"CalendarTab-module__qViykW__cellToday\",\n  \"checkBox\": \"CalendarTab-module__qViykW__checkBox\",\n  \"checkBoxFriend\": \"CalendarTab-module__qViykW__checkBoxFriend\",\n  \"checkBoxMine\": \"CalendarTab-module__qViykW__checkBoxMine\",\n  \"closeBtn\": \"CalendarTab-module__qViykW__closeBtn\",\n  \"dayEvent\": \"CalendarTab-module__qViykW__dayEvent\",\n  \"dayEventFriend\": \"CalendarTab-module__qViykW__dayEventFriend\",\n  \"dayEventMine\": \"CalendarTab-module__qViykW__dayEventMine\",\n  \"dayEventTime\": \"CalendarTab-module__qViykW__dayEventTime\",\n  \"dayEventTitle\": \"CalendarTab-module__qViykW__dayEventTitle\",\n  \"dayGrid\": \"CalendarTab-module__qViykW__dayGrid\",\n  \"dayHeader\": \"CalendarTab-module__qViykW__dayHeader\",\n  \"dayHeaders\": \"CalendarTab-module__qViykW__dayHeaders\",\n  \"dayNum\": \"CalendarTab-module__qViykW__dayNum\",\n  \"fadein\": \"CalendarTab-module__qViykW__fadein\",\n  \"hourLabel\": \"CalendarTab-module__qViykW__hourLabel\",\n  \"hourRow\": \"CalendarTab-module__qViykW__hourRow\",\n  \"hourSlot\": \"CalendarTab-module__qViykW__hourSlot\",\n  \"layout\": \"CalendarTab-module__qViykW__layout\",\n  \"loading\": \"CalendarTab-module__qViykW__loading\",\n  \"metaIcon\": \"CalendarTab-module__qViykW__metaIcon\",\n  \"metaLabel\": \"CalendarTab-module__qViykW__metaLabel\",\n  \"metaList\": \"CalendarTab-module__qViykW__metaList\",\n  \"metaRow\": \"CalendarTab-module__qViykW__metaRow\",\n  \"modal\": \"CalendarTab-module__qViykW__modal\",\n  \"modalHeader\": \"CalendarTab-module__qViykW__modalHeader\",\n  \"modalTitle\": \"CalendarTab-module__qViykW__modalTitle\",\n  \"monthCells\": \"CalendarTab-module__qViykW__monthCells\",\n  \"monthGrid\": \"CalendarTab-module__qViykW__monthGrid\",\n  \"monthLabel\": \"CalendarTab-module__qViykW__monthLabel\",\n  \"navBtn\": \"CalendarTab-module__qViykW__navBtn\",\n  \"navGroup\": \"CalendarTab-module__qViykW__navGroup\",\n  \"overflow\": \"CalendarTab-module__qViykW__overflow\",\n  \"overlay\": \"CalendarTab-module__qViykW__overlay\",\n  \"page\": \"CalendarTab-module__qViykW__page\",\n  \"pill\": \"CalendarTab-module__qViykW__pill\",\n  \"pillFriend\": \"CalendarTab-module__qViykW__pillFriend\",\n  \"pillMine\": \"CalendarTab-module__qViykW__pillMine\",\n  \"rightGroup\": \"CalendarTab-module__qViykW__rightGroup\",\n  \"sidebar\": \"CalendarTab-module__qViykW__sidebar\",\n  \"sidebarTitle\": \"CalendarTab-module__qViykW__sidebarTitle\",\n  \"slideup\": \"CalendarTab-module__qViykW__slideup\",\n  \"spin\": \"CalendarTab-module__qViykW__spin\",\n  \"spinner\": \"CalendarTab-module__qViykW__spinner\",\n  \"todayBtn\": \"CalendarTab-module__qViykW__todayBtn\",\n  \"toolbar\": \"CalendarTab-module__qViykW__toolbar\",\n  \"viewBtn\": \"CalendarTab-module__qViykW__viewBtn\",\n  \"viewBtnActive\": \"CalendarTab-module__qViykW__viewBtnActive\",\n  \"viewGroup\": \"CalendarTab-module__qViykW__viewGroup\",\n  \"weekCol\": \"CalendarTab-module__qViykW__weekCol\",\n  \"weekColBody\": \"CalendarTab-module__qViykW__weekColBody\",\n  \"weekColHeader\": \"CalendarTab-module__qViykW__weekColHeader\",\n  \"weekDate\": \"CalendarTab-module__qViykW__weekDate\",\n  \"weekDateToday\": \"CalendarTab-module__qViykW__weekDateToday\",\n  \"weekDay\": \"CalendarTab-module__qViykW__weekDay\",\n  \"weekGrid\": \"CalendarTab-module__qViykW__weekGrid\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 2005, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/date.ts"],"sourcesContent":["export const MONTHS = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n];\nexport const DAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nexport function startOfWeek(d: Date): Date {\n    const n = new Date(d);\n    n.setDate(d.getDate() - d.getDay());\n    return n;\n}\n\nexport function isSameDay(a: Date, b: Date): boolean {\n    return a.toDateString() === b.toDateString();\n}\n\nexport function fmtTime(iso: string): string {\n    return new Date(iso).toLocaleTimeString([], {\n        hour: \"2-digit\",\n        minute: \"2-digit\",\n    });\n}\n\nexport function fmtDateTime(iso: string): string {\n    return new Date(iso).toLocaleString([], {\n        dateStyle: \"medium\",\n        timeStyle: \"short\",\n    });\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;AAAO,MAAM,SAAS;IAClB;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;CACH;AACM,MAAM,OAAO;IAAC;IAAO;IAAO;IAAO;IAAO;IAAO;IAAO;CAAM;AAE9D,SAAS,YAAY,CAAO;IAC/B,MAAM,IAAI,IAAI,KAAK;IACnB,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK,EAAE,MAAM;IAChC,OAAO;AACX;AAEO,SAAS,UAAU,CAAO,EAAE,CAAO;IACtC,OAAO,EAAE,YAAY,OAAO,EAAE,YAAY;AAC9C;AAEO,SAAS,QAAQ,GAAW;IAC/B,OAAO,IAAI,KAAK,KAAK,kBAAkB,CAAC,EAAE,EAAE;QACxC,MAAM;QACN,QAAQ;IACZ;AACJ;AAEO,SAAS,YAAY,GAAW;IACnC,OAAO,IAAI,KAAK,KAAK,cAAc,CAAC,EAAE,EAAE;QACpC,WAAW;QACX,WAAW;IACf;AACJ"}},
    {"offset": {"line": 2069, "column": 0}, "map": {"version":3,"sources":["file:///app/components/CalendarTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n    ChevronLeft,\n    ChevronRight,\n    Clock,\n    MapPin,\n    X,\n    Tag,\n    Calendar,\n    Check,\n} from \"lucide-react\";\nimport s from \"./CalendarTab.module.css\";\nimport {\n    MONTHS,\n    DAYS,\n    startOfWeek,\n    isSameDay,\n    fmtTime,\n    fmtDateTime,\n} from \"@/lib/date\";\nimport { apiFetch } from \"@/lib/api\";\n\ninterface CalEvent {\n    id: string;\n    title: string;\n    description?: string;\n    location?: string;\n    startTime: string;\n    endTime: string;\n    allDay: boolean;\n    isFriend?: boolean;\n    owner?: { id: string; name?: string; email: string } | null;\n    calendar: { id: string; name: string; type: string };\n}\ninterface CalSource {\n    id: string;\n    name: string;\n    isFriend: boolean;\n}\n\nconst HOURS = Array.from({ length: 24 }, (_, i) => i);\n\nexport default function CalendarTab() {\n    const [myEvents, setMyEvents] = useState<CalEvent[]>([]);\n    const [friendEvents, setFriendEvents] = useState<CalEvent[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [date, setDate] = useState(new Date());\n    const [view, setView] = useState<\"month\" | \"week\" | \"day\">(\"month\");\n    const [detail, setDetail] = useState<CalEvent | null>(null);\n    const [sources, setSources] = useState<CalSource[]>([]);\n    const [hidden, setHidden] = useState<Set<string>>(new Set());\n\n    useEffect(() => {\n        load();\n    }, []);\n\n    const load = async () => {\n        setLoading(true);\n        const [mine, friend, cals] = await Promise.all([\n            apiFetch<CalEvent[]>(\"/api/events\").catch(() => []),\n            apiFetch<CalEvent[]>(\"/api/events/friends\").catch(() => []),\n            apiFetch<any[]>(\"/api/calendars\").catch(() => []),\n        ]);\n        setMyEvents(mine);\n        setFriendEvents(friend.map((e) => ({ ...e, isFriend: true })));\n\n        const newSources: CalSource[] = cals.map((c) => ({\n            id: c.id,\n            name: c.name,\n            isFriend: false,\n        }));\n        const seen = new Set<string>();\n        friend.forEach((e) => {\n            if (!e.owner || seen.has(e.calendar.id)) return;\n            seen.add(e.calendar.id);\n            newSources.push({\n                id: e.calendar.id,\n                name: `${e.owner.name || e.owner.email} ‚Äì ${e.calendar.name}`,\n                isFriend: true,\n            });\n        });\n        setSources(newSources);\n        setLoading(false);\n    };\n\n    const allEvents = [\n        ...myEvents.filter((e) => !hidden.has(e.calendar.id)),\n        ...friendEvents.filter((e) => !hidden.has(e.calendar.id)),\n    ];\n\n    const toggleSource = (id: string) =>\n        setHidden((prev) => {\n            const n = new Set(prev);\n            n.has(id) ? n.delete(id) : n.add(id);\n            return n;\n        });\n\n    const prev = () => {\n        if (view === \"month\")\n            setDate((d) => new Date(d.getFullYear(), d.getMonth() - 1, 1));\n        else if (view === \"week\")\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() - 7);\n                return n;\n            });\n        else\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() - 1);\n                return n;\n            });\n    };\n    const next = () => {\n        if (view === \"month\")\n            setDate((d) => new Date(d.getFullYear(), d.getMonth() + 1, 1));\n        else if (view === \"week\")\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() + 7);\n                return n;\n            });\n        else\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() + 1);\n                return n;\n            });\n    };\n    const goToday = () => setDate(new Date());\n\n    const getMonthCells = () => {\n        const y = date.getFullYear(),\n            m = date.getMonth();\n        const cells: (number | null)[] = [];\n        for (let i = 0; i < new Date(y, m, 1).getDay(); i++) cells.push(null);\n        for (let i = 1; i <= new Date(y, m + 1, 0).getDate(); i++)\n            cells.push(i);\n        return cells;\n    };\n\n    const eventsForDay = (day: number) => {\n        const y = date.getFullYear(),\n            m = date.getMonth();\n        return allEvents.filter((e) => {\n            const d = new Date(e.startTime);\n            return (\n                d.getFullYear() === y &&\n                d.getMonth() === m &&\n                d.getDate() === day\n            );\n        });\n    };\n\n    const isCalToday = (d: Date | number) => {\n        const check =\n            typeof d === \"number\"\n                ? new Date(date.getFullYear(), date.getMonth(), d)\n                : d;\n        return isSameDay(check, new Date());\n    };\n\n    const getWeekDays = () => {\n        const start = startOfWeek(date);\n        return Array.from({ length: 7 }, (_, i) => {\n            const d = new Date(start);\n            d.setDate(start.getDate() + i);\n            return d;\n        });\n    };\n\n    const eventsForDate = (d: Date) =>\n        allEvents.filter((e) => isSameDay(new Date(e.startTime), d));\n\n    const eventsForHour = (evs: CalEvent[], hour: number) =>\n        evs.filter(\n            (e) => !e.allDay && new Date(e.startTime).getHours() === hour,\n        );\n\n    const monthLabel = () => {\n        if (view === \"month\")\n            return `${MONTHS[date.getMonth()]} ${date.getFullYear()}`;\n        if (view === \"day\")\n            return `${DAYS[date.getDay()]}, ${MONTHS[date.getMonth()]} ${date.getDate()} ${date.getFullYear()}`;\n        const days = getWeekDays();\n        return `${MONTHS[days[0].getMonth()]} ${days[0].getDate()} ‚Äì ${days[6].getDate()}, ${days[6].getFullYear()}`;\n    };\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading‚Ä¶</span>\n            </div>\n        );\n\n    const monthCells = getMonthCells();\n    const weekDays = getWeekDays();\n    const dayEvents = eventsForDate(date);\n\n    return (\n        <div className={s.page}>\n            {/* Toolbar */}\n            <div className={s.toolbar}>\n                <div className={s.navGroup}>\n                    <button className={s.navBtn} onClick={prev}>\n                        <ChevronLeft size={15} />\n                    </button>\n                    <span className={s.monthLabel}>{monthLabel()}</span>\n                    <button className={s.navBtn} onClick={next}>\n                        <ChevronRight size={15} />\n                    </button>\n                </div>\n                <div className={s.rightGroup}>\n                    <button className={s.todayBtn} onClick={goToday}>\n                        Today\n                    </button>\n                    <div className={s.viewGroup}>\n                        {([\"month\", \"week\", \"day\"] as const).map((v) => (\n                            <button\n                                key={v}\n                                className={`${s.viewBtn} ${view === v ? s.viewBtnActive : \"\"}`}\n                                onClick={() => setView(v)}\n                                style={{ textTransform: \"capitalize\" }}\n                            >\n                                {v}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            {/* Layout */}\n            <div className={s.layout}>\n                {sources.length > 0 && (\n                    <div className={s.sidebar}>\n                        {sources.some((src) => !src.isFriend) && (\n                            <>\n                                <div className={s.sidebarTitle}>\n                                    My Calendars\n                                </div>\n                                {sources\n                                    .filter((src) => !src.isFriend)\n                                    .map((src) => {\n                                        const on = !hidden.has(src.id);\n                                        return (\n                                            <label\n                                                key={src.id}\n                                                className={`${s.calToggle} ${on ? s.calToggleOn : \"\"}`}\n                                                onClick={() =>\n                                                    toggleSource(src.id)\n                                                }\n                                            >\n                                                <div\n                                                    className={`${s.checkBox} ${on ? s.checkBoxMine : \"\"}`}\n                                                >\n                                                    {on && (\n                                                        <Check\n                                                            size={9}\n                                                            color=\"#fff\"\n                                                        />\n                                                    )}\n                                                </div>\n                                                <span\n                                                    className={s.calToggleName}\n                                                >\n                                                    {src.name}\n                                                </span>\n                                            </label>\n                                        );\n                                    })}\n                            </>\n                        )}\n                        {sources.some((src) => src.isFriend) && (\n                            <>\n                                <div className={s.calDivider} />\n                                <div className={s.sidebarTitle}>Friends</div>\n                                {sources\n                                    .filter((src) => src.isFriend)\n                                    .map((src) => {\n                                        const on = !hidden.has(src.id);\n                                        return (\n                                            <label\n                                                key={src.id}\n                                                className={`${s.calToggle} ${on ? s.calToggleOn : \"\"}`}\n                                                onClick={() =>\n                                                    toggleSource(src.id)\n                                                }\n                                            >\n                                                <div\n                                                    className={`${s.checkBox} ${on ? s.checkBoxFriend : \"\"}`}\n                                                >\n                                                    {on && (\n                                                        <Check\n                                                            size={9}\n                                                            color=\"#fff\"\n                                                        />\n                                                    )}\n                                                </div>\n                                                <span\n                                                    className={s.calToggleName}\n                                                >\n                                                    {src.name}\n                                                </span>\n                                            </label>\n                                        );\n                                    })}\n                            </>\n                        )}\n                    </div>\n                )}\n                <div className={s.calendarArea}>\n                    {/* Month */}\n                    {view === \"month\" && (\n                        <div className={s.monthGrid}>\n                            <div className={s.dayHeaders}>\n                                {DAYS.map((d) => (\n                                    <div key={d} className={s.dayHeader}>\n                                        {d}\n                                    </div>\n                                ))}\n                            </div>\n                            <div className={s.monthCells}>\n                                {monthCells.map((day, i) => {\n                                    if (day === null)\n                                        return (\n                                            <div\n                                                key={`e-${i}`}\n                                                className={`${s.cell} ${s.cellEmpty}`}\n                                            />\n                                        );\n                                    const dayEvs = eventsForDay(day);\n                                    const visible = dayEvs.slice(0, 2);\n                                    const overflow = dayEvs.length - 2;\n                                    return (\n                                        <div\n                                            key={day}\n                                            className={`${s.cell} ${isCalToday(day) ? s.cellToday : \"\"}`}\n                                        >\n                                            <span className={s.dayNum}>\n                                                {day}\n                                            </span>\n                                            {visible.map((e) => (\n                                                <span\n                                                    key={e.id}\n                                                    className={`${s.pill} ${e.isFriend ? s.pillFriend : s.pillMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                    title={e.title}\n                                                >\n                                                    {e.allDay\n                                                        ? \"\"\n                                                        : `${fmtTime(e.startTime)} `}\n                                                    {e.title}\n                                                </span>\n                                            ))}\n                                            {overflow > 0 && (\n                                                <span className={s.overflow}>\n                                                    +{overflow}\n                                                </span>\n                                            )}\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n                    {view === \"week\" && (\n                        <div className={s.weekGrid}>\n                            {weekDays.map((day) => {\n                                const dayEvs = eventsForDate(day);\n                                const today = isCalToday(day);\n                                return (\n                                    <div\n                                        key={day.toISOString()}\n                                        className={s.weekCol}\n                                    >\n                                        <div className={s.weekColHeader}>\n                                            <div className={s.weekDay}>\n                                                {DAYS[day.getDay()]}\n                                            </div>\n                                            <div\n                                                className={`${s.weekDate} ${today ? s.weekDateToday : \"\"}`}\n                                            >\n                                                {day.getDate()}\n                                            </div>\n                                        </div>\n                                        <div className={s.weekColBody}>\n                                            {dayEvs.map((e) => (\n                                                <span\n                                                    key={e.id}\n                                                    className={`${s.pill} ${e.isFriend ? s.pillFriend : s.pillMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                    title={e.title}\n                                                >\n                                                    {e.allDay\n                                                        ? \"All day\"\n                                                        : fmtTime(\n                                                              e.startTime,\n                                                          )}{\" \"}\n                                                    ¬∑ {e.title}\n                                                </span>\n                                            ))}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    )}\n\n                    {/* Day ‚Äî hourly grid */}\n                    {view === \"day\" && (\n                        <div className={s.dayGrid}>\n                            {/* All-day strip */}\n                            {dayEvents.filter((e) => e.allDay).length > 0 && (\n                                <div className={s.allDayRow}>\n                                    <div className={s.hourLabel}>All day</div>\n                                    <div className={s.allDayEvents}>\n                                        {dayEvents\n                                            .filter((e) => e.allDay)\n                                            .map((e) => (\n                                                <span\n                                                    key={e.id}\n                                                    className={`${s.pill} ${e.isFriend ? s.pillFriend : s.pillMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                >\n                                                    {e.title}\n                                                </span>\n                                            ))}\n                                    </div>\n                                </div>\n                            )}\n                            {HOURS.map((hour) => {\n                                const hourEvs = eventsForHour(dayEvents, hour);\n                                return (\n                                    <div key={hour} className={s.hourRow}>\n                                        <div className={s.hourLabel}>\n                                            {hour === 0\n                                                ? \"12 AM\"\n                                                : hour < 12\n                                                  ? `${hour} AM`\n                                                  : hour === 12\n                                                    ? \"12 PM\"\n                                                    : `${hour - 12} PM`}\n                                        </div>\n                                        <div className={s.hourSlot}>\n                                            {hourEvs.map((e) => (\n                                                <span\n                                                    key={e.id}\n                                                    className={`${s.dayEvent} ${e.isFriend ? s.dayEventFriend : s.dayEventMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                >\n                                                    <span\n                                                        className={\n                                                            s.dayEventTime\n                                                        }\n                                                    >\n                                                        {fmtTime(e.startTime)} ‚Äì{\" \"}\n                                                        {fmtTime(e.endTime)}\n                                                    </span>\n                                                    <span\n                                                        className={\n                                                            s.dayEventTitle\n                                                        }\n                                                    >\n                                                        {e.title}\n                                                    </span>\n                                                </span>\n                                            ))}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Event detail modal */}\n            {detail && (\n                <div className={s.overlay} onClick={() => setDetail(null)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>{detail.title}</span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setDetail(null)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <div className={s.metaList}>\n                            <div className={s.metaRow}>\n                                <Clock size={14} className={s.metaIcon} />\n                                <div>\n                                    <div className={s.metaLabel}>Time</div>\n                                    {detail.allDay\n                                        ? \"All day\"\n                                        : `${fmtDateTime(detail.startTime)} ‚Äì ${fmtTime(detail.endTime)}`}\n                                </div>\n                            </div>\n                            {detail.location && (\n                                <div className={s.metaRow}>\n                                    <MapPin size={14} className={s.metaIcon} />\n                                    <div>\n                                        <div className={s.metaLabel}>\n                                            Location\n                                        </div>\n                                        {detail.location}\n                                    </div>\n                                </div>\n                            )}\n                            {detail.description && (\n                                <div className={s.metaRow}>\n                                    <Tag size={14} className={s.metaIcon} />\n                                    <div>\n                                        <div className={s.metaLabel}>Notes</div>\n                                        {detail.description}\n                                    </div>\n                                </div>\n                            )}\n                            <div className={s.metaRow}>\n                                <Calendar size={14} className={s.metaIcon} />\n                                <div>\n                                    <div className={s.metaLabel}>Calendar</div>\n                                    <span\n                                        className={\n                                            detail.isFriend\n                                                ? s.calBadgeFriend\n                                                : s.calBadgeMine\n                                        }\n                                    >\n                                        {detail.isFriend\n                                            ? `${detail.owner?.name || detail.owner?.email} ¬∑ ${detail.calendar.name}`\n                                            : detail.calendar.name}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2941, "column": 0}, "map": {"version":3,"sources":["file:///app/components/ProfileTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { Shield, Ticket, Save } from \"lucide-react\";\nimport s from \"./GeneralTab.module.css\";\nimport { apiFetch } from \"@/lib/api\";\n\ntype Permission = \"busy\" | \"titles\" | \"full\";\nconst PERM_LABELS: Record<Permission, string> = {\n    busy: \"üî¥ Busy only ‚Äî hide titles and details\",\n    titles: \"üü° Titles only ‚Äî show event names, no descriptions\",\n    full: \"üü¢ Full details ‚Äî share everything\",\n};\n\nexport default function ProfileTab() {\n    const [user, setUser] = useState<any>(null);\n    const [name, setName] = useState(\"\");\n    const [curPw, setCurPw] = useState(\"\");\n    const [newPw, setNewPw] = useState(\"\");\n    const [defPerm, setDefPerm] = useState<Permission>(\"full\");\n    const [regOpen, setRegOpen] = useState(true);\n    const [inviteOnly, setInviteOnly] = useState(false);\n    const [inviteCode, setInviteCode] = useState(\"\");\n    const [saving, setSaving] = useState(false);\n    const [msg, setMsg] = useState(\"\");\n    const [err, setErr] = useState(\"\");\n\n    useEffect(() => {\n        apiFetch(\"/api/users/me\").then((u: any) => {\n            setUser(u);\n            setName(u.name ?? \"\");\n            setDefPerm(u.settings?.defaultSharePermission ?? \"full\");\n        });\n        // load admin settings if admin\n        apiFetch(\"/api/users/app-settings\")\n            .then((s: any) => {\n                setRegOpen(s.registrationsOpen ?? true);\n                setInviteOnly(s.inviteOnly ?? false);\n            })\n            .catch(() => {}); // non-admins get 403, ignore\n    }, []);\n\n    const saveProfile = async () => {\n        setSaving(true);\n        setMsg(\"\");\n        setErr(\"\");\n        try {\n            const body: any = { name, defaultSharePermission: defPerm };\n            if (newPw) {\n                body.currentPassword = curPw;\n                body.newPassword = newPw;\n            }\n            await apiFetch(\"/api/users/me\", {\n                method: \"PATCH\",\n                body: JSON.stringify(body),\n            });\n            setMsg(\"Profile saved!\");\n            setCurPw(\"\");\n            setNewPw(\"\");\n        } catch (e: any) {\n            setErr(e.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const saveAdmin = async () => {\n        setSaving(true);\n        setMsg(\"\");\n        setErr(\"\");\n        try {\n            await apiFetch(\"/api/users/app-settings\", {\n                method: \"PATCH\",\n                body: JSON.stringify({\n                    registrationsOpen: regOpen,\n                    inviteOnly,\n                }),\n            });\n            setMsg(\"Admin settings saved!\");\n        } catch (e: any) {\n            setErr(e.message);\n        } finally {\n            setSaving(false);\n        }\n    };\n\n    const genInvite = async () => {\n        try {\n            const r = await apiFetch<{ code: string }>(\"/api/users/invite\", {\n                method: \"POST\",\n            });\n            setInviteCode(r.code);\n        } catch (e: any) {\n            setErr(e.message);\n        }\n    };\n\n    if (!user)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading‚Ä¶</span>\n            </div>\n        );\n\n    return (\n        <div className={s.page}>\n            <div className={s.pageHeader}>\n                <h1 className={s.pageTitle}>\n                    Profile & Settings\n                    {user.isAdmin && (\n                        <span\n                            className={s.badgePurple}\n                            style={{\n                                marginLeft: \"0.75rem\",\n                                verticalAlign: \"middle\",\n                            }}\n                        >\n                            <Shield size={11} style={{ marginRight: 3 }} />\n                            Admin\n                        </span>\n                    )}\n                </h1>\n            </div>\n\n            {/* Profile */}\n            <div className={s.section}>\n                <div className={s.sectionHeader}>\n                    <span className={s.sectionTitle}>Profile</span>\n                </div>\n                <div className={s.formStack}>\n                    <div>\n                        <label className={s.fieldLabel}>Email</label>\n                        <input\n                            className={s.input}\n                            value={user.email}\n                            readOnly\n                            style={{ opacity: 0.6 }}\n                        />\n                    </div>\n                    <div>\n                        <label className={s.fieldLabel}>Display Name</label>\n                        <input\n                            className={s.input}\n                            value={name}\n                            onChange={(e) => setName(e.target.value)}\n                            placeholder=\"Your name\"\n                        />\n                    </div>\n                </div>\n            </div>\n\n            {/* Password */}\n            <div className={s.section}>\n                <div className={s.sectionHeader}>\n                    <span className={s.sectionTitle}>Change Password</span>\n                </div>\n                <div className={s.formStack}>\n                    <div>\n                        <label className={s.fieldLabel}>Current Password</label>\n                        <input\n                            className={s.input}\n                            type=\"password\"\n                            value={curPw}\n                            onChange={(e) => setCurPw(e.target.value)}\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                        />\n                    </div>\n                    <div>\n                        <label className={s.fieldLabel}>New Password</label>\n                        <input\n                            className={s.input}\n                            type=\"password\"\n                            value={newPw}\n                            onChange={(e) => setNewPw(e.target.value)}\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                        />\n                    </div>\n                </div>\n            </div>\n\n            {/* Default share permission */}\n            <div className={s.section}>\n                <div className={s.sectionHeader}>\n                    <span className={s.sectionTitle}>\n                        Default Sharing Permission\n                    </span>\n                </div>\n                <div className={s.formStack}>\n                    {(Object.keys(PERM_LABELS) as Permission[]).map((p) => (\n                        <label\n                            key={p}\n                            style={{\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"0.625rem\",\n                                cursor: \"pointer\",\n                            }}\n                        >\n                            <input\n                                type=\"radio\"\n                                name=\"defPerm\"\n                                value={p}\n                                checked={defPerm === p}\n                                onChange={() => setDefPerm(p)}\n                            />\n                            <span\n                                style={{\n                                    fontSize: \"0.875rem\",\n                                    color: \"var(--text-primary)\",\n                                }}\n                            >\n                                {PERM_LABELS[p]}\n                            </span>\n                        </label>\n                    ))}\n                    <p className={s.hint}>\n                        Default permission when sharing a calendar with a\n                        friend. Override per-share in the Friends tab.\n                    </p>\n                </div>\n            </div>\n\n            {msg && (\n                <div style={{ color: \"var(--success)\", fontSize: \"0.875rem\" }}>\n                    {msg}\n                </div>\n            )}\n            {err && <div className={s.error}>{err}</div>}\n\n            <button\n                className={`${s.btn} ${s.btnPrimary}`}\n                onClick={saveProfile}\n                disabled={saving}\n            >\n                <Save size={14} /> {saving ? \"Saving‚Ä¶\" : \"Save Profile\"}\n            </button>\n\n            {/* Admin section ‚Äî only shown to admins */}\n            {user.isAdmin && (\n                <div className={s.section}>\n                    <div className={s.sectionHeader}>\n                        <span className={s.sectionTitle}>\n                            <Shield size={13} style={{ marginRight: 4 }} />\n                            Admin ‚Äî Registration\n                        </span>\n                    </div>\n                    <div className={s.formStack}>\n                        <label\n                            style={{\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"0.625rem\",\n                                cursor: \"pointer\",\n                            }}\n                        >\n                            <input\n                                type=\"checkbox\"\n                                checked={regOpen}\n                                onChange={(e) => setRegOpen(e.target.checked)}\n                            />\n                            <span\n                                style={{\n                                    fontSize: \"0.875rem\",\n                                    color: \"var(--text-primary)\",\n                                }}\n                            >\n                                Allow new registrations\n                            </span>\n                        </label>\n                        <label\n                            style={{\n                                display: \"flex\",\n                                alignItems: \"center\",\n                                gap: \"0.625rem\",\n                                cursor: \"pointer\",\n                            }}\n                        >\n                            <input\n                                type=\"checkbox\"\n                                checked={inviteOnly}\n                                onChange={(e) =>\n                                    setInviteOnly(e.target.checked)\n                                }\n                            />\n                            <span\n                                style={{\n                                    fontSize: \"0.875rem\",\n                                    color: \"var(--text-primary)\",\n                                }}\n                            >\n                                Require invite code to register\n                            </span>\n                        </label>\n                        <div className={s.formRow}>\n                            <button\n                                className={`${s.btn} ${s.btnSecondary}`}\n                                onClick={saveAdmin}\n                                disabled={saving}\n                            >\n                                Save Admin Settings\n                            </button>\n                            <button\n                                className={`${s.btn} ${s.btnSecondary}`}\n                                onClick={genInvite}\n                            >\n                                <Ticket size={14} /> Generate Invite Code\n                            </button>\n                        </div>\n                        {inviteCode && (\n                            <div\n                                style={{\n                                    fontFamily: \"monospace\",\n                                    fontSize: \"0.9rem\",\n                                    color: \"var(--purple-300)\",\n                                    background: \"var(--bg-elevated)\",\n                                    padding: \"0.5rem 0.75rem\",\n                                    borderRadius: \"var(--radius-md)\",\n                                    border: \"1px solid var(--border)\",\n                                }}\n                            >\n                                {inviteCode}\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3592, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthModal.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"brand\": \"AuthModal-module__DLnrsa__brand\",\n  \"closeBtn\": \"AuthModal-module__DLnrsa__closeBtn\",\n  \"error\": \"AuthModal-module__DLnrsa__error\",\n  \"fadein\": \"AuthModal-module__DLnrsa__fadein\",\n  \"field\": \"AuthModal-module__DLnrsa__field\",\n  \"form\": \"AuthModal-module__DLnrsa__form\",\n  \"input\": \"AuthModal-module__DLnrsa__input\",\n  \"label\": \"AuthModal-module__DLnrsa__label\",\n  \"modal\": \"AuthModal-module__DLnrsa__modal\",\n  \"modalHeader\": \"AuthModal-module__DLnrsa__modalHeader\",\n  \"optional\": \"AuthModal-module__DLnrsa__optional\",\n  \"overlay\": \"AuthModal-module__DLnrsa__overlay\",\n  \"slideup\": \"AuthModal-module__DLnrsa__slideup\",\n  \"submitBtn\": \"AuthModal-module__DLnrsa__submitBtn\",\n  \"subtitle\": \"AuthModal-module__DLnrsa__subtitle\",\n  \"successMsg\": \"AuthModal-module__DLnrsa__successMsg\",\n  \"switchBtn\": \"AuthModal-module__DLnrsa__switchBtn\",\n  \"switchRow\": \"AuthModal-module__DLnrsa__switchRow\",\n  \"title\": \"AuthModal-module__DLnrsa__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3617, "column": 0}, "map": {"version":3,"sources":["file:///app/components/AuthModal.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { X, Share2 } from \"lucide-react\";\nimport s from \"./AuthModal.module.css\";\n\ninterface Props {\n    onClose: () => void;\n    onLogin: (token: string) => void;\n}\n\nexport default function AuthModal({ onClose, onLogin }: Props) {\n    const [isLogin, setIsLogin] = useState(true);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [inviteCode, setInviteCode] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n\n    const submit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(\"\");\n        setSuccess(\"\");\n        try {\n            const url = isLogin ? \"/api/users/login\" : \"/api/users/register\";\n            const body = isLogin\n                ? { email, password }\n                : {\n                      email,\n                      password,\n                      name,\n                      ...(inviteCode ? { inviteCode } : {}),\n                  };\n\n            const res = await fetch(url, {\n                method: \"POST\",\n                headers: { \"Content-Type\": \"application/json\" },\n                body: JSON.stringify(body),\n            });\n            const data = await res.json();\n            if (!res.ok) throw new Error(data.error || \"Authentication failed\");\n\n            if (isLogin) {\n                onLogin(data.token);\n            } else {\n                setSuccess(\"Account created! Please sign in.\");\n                setIsLogin(true);\n                setEmail(\"\");\n                setPassword(\"\");\n                setName(\"\");\n                setInviteCode(\"\");\n            }\n        } catch (err) {\n            setError(\n                err instanceof Error ? err.message : \"Something went wrong\",\n            );\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    return (\n        <div className={s.overlay} onClick={onClose}>\n            <div className={s.modal} onClick={(e) => e.stopPropagation()}>\n                <div className={s.modalHeader}>\n                    <div className={s.brand}>\n                        <Share2 size={18} /> SocialAnimal\n                    </div>\n                    <button className={s.closeBtn} onClick={onClose}>\n                        <X size={18} />\n                    </button>\n                </div>\n\n                <h2 className={s.title}>\n                    {isLogin ? \"Welcome back\" : \"Create account\"}\n                </h2>\n                <p className={s.subtitle}>\n                    {isLogin ? \"Sign in to your account\" : \"Join SocialAnimal\"}\n                </p>\n\n                <form className={s.form} onSubmit={submit}>\n                    {!isLogin && (\n                        <div className={s.field}>\n                            <label className={s.label}>Name</label>\n                            <input\n                                className={s.input}\n                                type=\"text\"\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                                placeholder=\"Your name\"\n                            />\n                        </div>\n                    )}\n                    <div className={s.field}>\n                        <label className={s.label}>Email</label>\n                        <input\n                            className={s.input}\n                            type=\"email\"\n                            value={email}\n                            required\n                            onChange={(e) => setEmail(e.target.value)}\n                            placeholder=\"you@example.com\"\n                        />\n                    </div>\n                    <div className={s.field}>\n                        <label className={s.label}>Password</label>\n                        <input\n                            className={s.input}\n                            type=\"password\"\n                            value={password}\n                            required\n                            onChange={(e) => setPassword(e.target.value)}\n                            placeholder=\"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢\"\n                        />\n                    </div>\n                    {!isLogin && (\n                        <div className={s.field}>\n                            <label className={s.label}>\n                                Invite Code{\" \"}\n                                <span className={s.optional}>\n                                    (if required)\n                                </span>\n                            </label>\n                            <input\n                                className={s.input}\n                                type=\"text\"\n                                value={inviteCode}\n                                onChange={(e) => setInviteCode(e.target.value)}\n                                placeholder=\"xxxxxxxxxxxxxxxx\"\n                            />\n                        </div>\n                    )}\n\n                    {error && <div className={s.error}>{error}</div>}\n                    {success && <div className={s.successMsg}>{success}</div>}\n\n                    <button\n                        className={s.submitBtn}\n                        type=\"submit\"\n                        disabled={loading}\n                    >\n                        {loading\n                            ? \"Please wait‚Ä¶\"\n                            : isLogin\n                              ? \"Sign In\"\n                              : \"Create Account\"}\n                    </button>\n                </form>\n\n                <div className={s.switchRow}>\n                    {isLogin\n                        ? \"Don't have an account?\"\n                        : \"Already have an account?\"}\n                    <button\n                        className={s.switchBtn}\n                        onClick={() => {\n                            setIsLogin(!isLogin);\n                            setError(\"\");\n                            setSuccess(\"\");\n                        }}\n                    >\n                        {isLogin ? \"Sign up\" : \"Sign in\"}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3955, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/page.module.css [app-client] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"page-module__E0kJGG__active\",\n  \"brand\": \"page-module__E0kJGG__brand\",\n  \"brandIcon\": \"page-module__E0kJGG__brandIcon\",\n  \"brandName\": \"page-module__E0kJGG__brandName\",\n  \"ctaBtn\": \"page-module__E0kJGG__ctaBtn\",\n  \"ctaRow\": \"page-module__E0kJGG__ctaRow\",\n  \"h1\": \"page-module__E0kJGG__h1\",\n  \"header\": \"page-module__E0kJGG__header\",\n  \"landing\": \"page-module__E0kJGG__landing\",\n  \"landingInner\": \"page-module__E0kJGG__landingInner\",\n  \"logoWrap\": \"page-module__E0kJGG__logoWrap\",\n  \"logoutBtn\": \"page-module__E0kJGG__logoutBtn\",\n  \"main\": \"page-module__E0kJGG__main\",\n  \"page\": \"page-module__E0kJGG__page\",\n  \"pill\": \"page-module__E0kJGG__pill\",\n  \"pillRow\": \"page-module__E0kJGG__pillRow\",\n  \"tabBar\": \"page-module__E0kJGG__tabBar\",\n  \"tabBtn\": \"page-module__E0kJGG__tabBtn\",\n  \"tagline\": \"page-module__E0kJGG__tagline\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3980, "column": 0}, "map": {"version":3,"sources":["file:///app/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { Calendar, Users, Home, User, LogOut } from \"lucide-react\";\nimport GeneralTab from \"@/components/GeneralTab\";\nimport FriendsTab from \"@/components/FriendsTab\";\nimport CalendarTab from \"@/components/CalendarTab\";\nimport ProfileTab from \"@/components/ProfileTab\";\nimport AuthModal from \"@/components/AuthModal\";\nimport s from \"./page.module.css\";\n\nconst TABS = [\n    { id: \"general\", label: \"Dashboard\", icon: Home },\n    { id: \"calendar\", label: \"Calendar\", icon: Calendar },\n    { id: \"friends\", label: \"Friends\", icon: Users },\n    { id: \"profile\", label: \"Profile\", icon: User },\n];\n\nexport default function HomePage() {\n    const [activeTab, setActiveTab] = useState(\"general\");\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [showAuthModal, setShowAuthModal] = useState(false);\n\n    useEffect(() => {\n        if (localStorage.getItem(\"token\")) setIsAuthenticated(true);\n    }, []);\n\n    const handleLogin = (token: string) => {\n        localStorage.setItem(\"token\", token);\n        setIsAuthenticated(true);\n        setShowAuthModal(false);\n    };\n\n    const handleLogout = () => {\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n        setActiveTab(\"general\");\n    };\n\n    if (!isAuthenticated) {\n        return (\n            <div className={s.landing}>\n                <div className={s.landingInner}>\n                    <div className={s.logoWrap}>\n                        <Calendar size={28} color=\"var(--purple-400)\" />\n                    </div>\n                    <h1 className={s.h1}>SocialAnimal</h1>\n                    <p className={s.tagline}>\n                        Share calendars with friends.\n                        <br />\n                        See when everyone's free.\n                    </p>\n                    <div className={s.ctaRow}>\n                        <button\n                            className={s.ctaBtn}\n                            onClick={() => setShowAuthModal(true)}\n                        >\n                            Get Started\n                        </button>\n                    </div>\n                    <div className={s.pillRow}>\n                        <span className={s.pill}>üìÖ ICS Import</span>\n                        <span className={s.pill}>üë• Friend Sharing</span>\n                        <span className={s.pill}>üîí Permission Control</span>\n                    </div>\n                </div>\n                {showAuthModal && (\n                    <AuthModal\n                        onClose={() => setShowAuthModal(false)}\n                        onLogin={handleLogin}\n                    />\n                )}\n            </div>\n        );\n    }\n\n    return (\n        <div className={s.page}>\n            {/* Header */}\n            <header className={s.header}>\n                <div className={s.brand}>\n                    <div className={s.brandIcon}>\n                        <Calendar size={15} color=\"var(--purple-400)\" />\n                    </div>\n                    <span className={s.brandName}>SocialAnimal</span>\n                </div>\n                <button className={s.logoutBtn} onClick={handleLogout}>\n                    <LogOut size={13} /> Sign out\n                </button>\n            </header>\n\n            {/* Tab bar */}\n            <div className={s.tabBar}>\n                {TABS.map(({ id, label, icon: Icon }) => (\n                    <button\n                        key={id}\n                        className={`${s.tabBtn} ${activeTab === id ? s.active : \"\"}`}\n                        onClick={() => setActiveTab(id)}\n                    >\n                        <Icon size={14} />\n                        {label}\n                    </button>\n                ))}\n            </div>\n\n            {/* Content */}\n            <main className={s.main}>\n                {activeTab === \"general\" && <GeneralTab />}\n                {activeTab === \"calendar\" && <CalendarTab />}\n                {activeTab === \"friends\" && <FriendsTab />}\n                {activeTab === \"profile\" && <ProfileTab />}\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}