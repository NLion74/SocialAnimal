{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 10, "column": 0}, "map": {"version":3,"sources":["file:///app/lib/env.ts"],"sourcesContent":["function getEnv(key: string, defaultValue?: string): string {\n    const value = process.env[key] ?? defaultValue;\n    if (value === undefined) {\n        throw new Error(`Missing environment variable: ${key}`);\n    }\n    return value;\n}\n\nexport const env = {\n    API_URL: \"\",\n\n    ICS_BASE_URL: process.env.NEXT_PUBLIC_PUBLIC_URL ?? \"http://localhost:3001\",\n};\n"],"names":[],"mappings":";;;;AAAA,SAAS,OAAO,GAAW,EAAE,YAAqB;IAC9C,MAAM,QAAQ,QAAQ,GAAG,CAAC,IAAI,IAAI;IAClC,IAAI,UAAU,WAAW;QACrB,MAAM,IAAI,MAAM,CAAC,8BAA8B,EAAE,KAAK;IAC1D;IACA,OAAO;AACX;AAEO,MAAM,MAAM;IACf,SAAS;IAET,cAAc,6DAAsC;AACxD"}},
    {"offset": {"line": 28, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/GeneralTab.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"backBtn\": \"GeneralTab-module__gdDy2G__backBtn\",\n  \"badge\": \"GeneralTab-module__gdDy2G__badge\",\n  \"badgeGreen\": \"GeneralTab-module__gdDy2G__badgeGreen\",\n  \"badgeMuted\": \"GeneralTab-module__gdDy2G__badgeMuted\",\n  \"badgePurple\": \"GeneralTab-module__gdDy2G__badgePurple\",\n  \"btn\": \"GeneralTab-module__gdDy2G__btn\",\n  \"btnDanger\": \"GeneralTab-module__gdDy2G__btnDanger\",\n  \"btnIcon\": \"GeneralTab-module__gdDy2G__btnIcon\",\n  \"btnPrimary\": \"GeneralTab-module__gdDy2G__btnPrimary\",\n  \"btnRow\": \"GeneralTab-module__gdDy2G__btnRow\",\n  \"btnSecondary\": \"GeneralTab-module__gdDy2G__btnSecondary\",\n  \"btnSm\": \"GeneralTab-module__gdDy2G__btnSm\",\n  \"closeBtn\": \"GeneralTab-module__gdDy2G__closeBtn\",\n  \"copiedMsg\": \"GeneralTab-module__gdDy2G__copiedMsg\",\n  \"empty\": \"GeneralTab-module__gdDy2G__empty\",\n  \"emptyIcon\": \"GeneralTab-module__gdDy2G__emptyIcon\",\n  \"error\": \"GeneralTab-module__gdDy2G__error\",\n  \"fadein\": \"GeneralTab-module__gdDy2G__fadein\",\n  \"fieldLabel\": \"GeneralTab-module__gdDy2G__fieldLabel\",\n  \"formRow\": \"GeneralTab-module__gdDy2G__formRow\",\n  \"formStack\": \"GeneralTab-module__gdDy2G__formStack\",\n  \"hint\": \"GeneralTab-module__gdDy2G__hint\",\n  \"input\": \"GeneralTab-module__gdDy2G__input\",\n  \"linkInput\": \"GeneralTab-module__gdDy2G__linkInput\",\n  \"linkRow\": \"GeneralTab-module__gdDy2G__linkRow\",\n  \"list\": \"GeneralTab-module__gdDy2G__list\",\n  \"loading\": \"GeneralTab-module__gdDy2G__loading\",\n  \"metaText\": \"GeneralTab-module__gdDy2G__metaText\",\n  \"modal\": \"GeneralTab-module__gdDy2G__modal\",\n  \"modalHeader\": \"GeneralTab-module__gdDy2G__modalHeader\",\n  \"modalTitle\": \"GeneralTab-module__gdDy2G__modalTitle\",\n  \"overlay\": \"GeneralTab-module__gdDy2G__overlay\",\n  \"page\": \"GeneralTab-module__gdDy2G__page\",\n  \"pageHeader\": \"GeneralTab-module__gdDy2G__pageHeader\",\n  \"pageTitle\": \"GeneralTab-module__gdDy2G__pageTitle\",\n  \"row\": \"GeneralTab-module__gdDy2G__row\",\n  \"rowActions\": \"GeneralTab-module__gdDy2G__rowActions\",\n  \"rowInfo\": \"GeneralTab-module__gdDy2G__rowInfo\",\n  \"rowMeta\": \"GeneralTab-module__gdDy2G__rowMeta\",\n  \"rowName\": \"GeneralTab-module__gdDy2G__rowName\",\n  \"rowUrl\": \"GeneralTab-module__gdDy2G__rowUrl\",\n  \"section\": \"GeneralTab-module__gdDy2G__section\",\n  \"sectionHeader\": \"GeneralTab-module__gdDy2G__sectionHeader\",\n  \"sectionTitle\": \"GeneralTab-module__gdDy2G__sectionTitle\",\n  \"slideup\": \"GeneralTab-module__gdDy2G__slideup\",\n  \"spin\": \"GeneralTab-module__gdDy2G__spin\",\n  \"spinner\": \"GeneralTab-module__gdDy2G__spinner\",\n  \"statCard\": \"GeneralTab-module__gdDy2G__statCard\",\n  \"statLabel\": \"GeneralTab-module__gdDy2G__statLabel\",\n  \"statValue\": \"GeneralTab-module__gdDy2G__statValue\",\n  \"statsGrid\": \"GeneralTab-module__gdDy2G__statsGrid\",\n  \"typeBtn\": \"GeneralTab-module__gdDy2G__typeBtn\",\n  \"typeDesc\": \"GeneralTab-module__gdDy2G__typeDesc\",\n  \"typeGrid\": \"GeneralTab-module__gdDy2G__typeGrid\",\n  \"typeName\": \"GeneralTab-module__gdDy2G__typeName\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 89, "column": 0}, "map": {"version":3,"sources":["file:///app/components/GeneralTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n    Plus,\n    RefreshCw,\n    Trash2,\n    X,\n    Copy,\n    Check,\n    Link,\n    Calendar,\n} from \"lucide-react\";\nimport { env } from \"@/lib/env\";\nimport s from \"./GeneralTab.module.css\";\nimport { useCallback } from \"react\";\n\ninterface CalendarData {\n    id: string;\n    name: string;\n    type: string;\n    url?: string;\n    events: { id: string; title: string }[];\n    lastSync?: string;\n}\ninterface Friend {\n    id: string;\n    user1: { id: string; email: string; name?: string };\n    user2: { id: string; email: string; name?: string };\n    status: string;\n    sharedCalendarIds: string[];\n    sharedWithMe: { id: string; name: string }[];\n}\n\nconst TYPES = [\n    {\n        value: \"ics_url\",\n        label: \"ICS / iCal URL\",\n        desc: \"Import from any public ICS URL\",\n        enabled: true,\n    },\n    {\n        value: \"google\",\n        label: \"Google Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n    {\n        value: \"apple\",\n        label: \"Apple Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n    {\n        value: \"proton\",\n        label: \"Proton Calendar\",\n        desc: \"Coming soon\",\n        enabled: false,\n    },\n];\n\nfunction getUid(): string | null {\n    const t =\n        typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n    if (!t) return null;\n    try {\n        return JSON.parse(atob(t)).sub;\n    } catch {\n        return null;\n    }\n}\n\nexport default function GeneralTab() {\n    const [calendars, setCalendars] = useState<CalendarData[]>([]);\n    const [friends, setFriends] = useState<Friend[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [syncingId, setSyncingId] = useState<string | null>(null);\n\n    const [showImport, setShowImport] = useState(false);\n    const [selType, setSelType] = useState<string | null>(null);\n    const [impName, setImpName] = useState(\"\");\n    const [impUrl, setImpUrl] = useState(\"\");\n    const [importing, setImporting] = useState(false);\n    const [impErr, setImpErr] = useState(\"\");\n\n    const [showExport, setShowExport] = useState(false);\n    const [exportLink, setExportLink] = useState(\"\");\n    const [exportLabel, setExportLabel] = useState(\"\");\n    const [copied, setCopied] = useState(false);\n\n    useEffect(() => {\n        load();\n    }, []);\n\n    const api = useCallback(\n        (path: string, opts?: RequestInit) =>\n            fetch(path, {\n                ...opts,\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    ...(opts?.body\n                        ? { \"Content-Type\": \"application/json\" }\n                        : {}),\n                    ...(opts?.headers ?? {}),\n                },\n            }),\n        [],\n    );\n\n    const load = async () => {\n        setLoading(true);\n        const [cr, fr] = await Promise.all([\n            api(\"/api/calendars\"),\n            api(\"/api/friends\"),\n        ]);\n        if (cr.ok) setCalendars(await cr.json());\n        if (fr.ok) setFriends(await fr.json());\n        setLoading(false);\n    };\n\n    const closeImport = () => {\n        setShowImport(false);\n        setSelType(null);\n        setImpName(\"\");\n        setImpUrl(\"\");\n        setImpErr(\"\");\n    };\n\n    const doImport = async () => {\n        if (!selType || !impName || (selType === \"ics_url\" && !impUrl)) return;\n        setImporting(true);\n        setImpErr(\"\");\n        try {\n            const r = await api(\"/api/calendars\", {\n                method: \"POST\",\n                body: JSON.stringify({\n                    name: impName,\n                    type: selType,\n                    url: impUrl || null,\n                }),\n            });\n            if (!r.ok)\n                throw new Error((await r.json()).error || \"Import failed\");\n            closeImport();\n            load();\n        } catch (e) {\n            setImpErr(e instanceof Error ? e.message : \"Import failed\");\n        } finally {\n            setImporting(false);\n        }\n    };\n\n    const doSync = async (id: string) => {\n        setSyncingId(id);\n        await api(`/api/calendars/${id}/sync`, { method: \"POST\" });\n        load();\n        setSyncingId(null);\n    };\n\n    const doDelete = async (id: string) => {\n        if (!confirm(\"Delete this calendar and all its events?\")) return;\n        await api(`/api/calendars/${id}`, { method: \"DELETE\" });\n        load();\n    };\n\n    const openExport = (\n        type: \"all\" | \"calendar\" | \"friend\",\n        id?: string,\n        label?: string,\n    ) => {\n        const token = localStorage.getItem(\"token\");\n        if (!token) return;\n\n        const base = env.ICS_BASE_URL;\n        const t = encodeURIComponent(token);\n\n        const link =\n            type === \"all\"\n                ? `${base}/api/ics/my-calendar.ics?token=${t}`\n                : type === \"calendar\"\n                  ? `${base}/api/ics/calendar/${id}.ics?token=${t}`\n                  : `${base}/api/ics/friend/${id}.ics?token=${t}`;\n\n        setExportLink(link);\n        setExportLabel(label ?? \"Full calendar\");\n        setShowExport(true);\n        setCopied(false);\n    };\n\n    const doCopy = () => {\n        navigator.clipboard.writeText(exportLink);\n        setCopied(true);\n        setTimeout(() => setCopied(false), 2000);\n    };\n\n    const uid = getUid();\n    const accepted = friends.filter((f) => f.status === \"accepted\");\n    const total = calendars.reduce((n, c) => n + (c.events?.length || 0), 0);\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading…</span>\n            </div>\n        );\n\n    return (\n        <div className={s.page}>\n            <div className={s.pageHeader}>\n                <h1 className={s.pageTitle}>Dashboard</h1>\n                <div className={s.btnRow}>\n                    <button\n                        className={`${s.btn} ${s.btnSecondary}`}\n                        onClick={() => openExport(\"all\")}\n                    >\n                        <Link size={14} /> Export All\n                    </button>\n                    <button\n                        className={`${s.btn} ${s.btnPrimary}`}\n                        onClick={() => setShowImport(true)}\n                    >\n                        <Plus size={14} /> Import Calendar\n                    </button>\n                </div>\n            </div>\n\n            <div className={s.statsGrid}>\n                {[\n                    { label: \"Calendars\", value: calendars.length },\n                    { label: \"Total Events\", value: total },\n                    { label: \"Friends\", value: accepted.length },\n                ].map(({ label, value }) => (\n                    <div key={label} className={s.statCard}>\n                        <div className={s.statValue}>{value}</div>\n                        <div className={s.statLabel}>{label}</div>\n                    </div>\n                ))}\n            </div>\n\n            <div className={s.section}>\n                <div className={s.sectionHeader}>\n                    <span className={s.sectionTitle}>My Calendars</span>\n                    <button\n                        className={`${s.btn} ${s.btnPrimary} ${s.btnSm}`}\n                        onClick={() => setShowImport(true)}\n                    >\n                        <Plus size={12} /> Add\n                    </button>\n                </div>\n\n                {calendars.length === 0 ? (\n                    <div className={s.empty}>\n                        <Calendar size={38} className={s.emptyIcon} />\n                        <span>\n                            No calendars yet — import one to get started\n                        </span>\n                    </div>\n                ) : (\n                    <div className={s.list}>\n                        {calendars.map((c) => (\n                            <div key={c.id} className={s.row}>\n                                <div className={s.rowInfo}>\n                                    <div className={s.rowName}>{c.name}</div>\n                                    <div className={s.rowMeta}>\n                                        <span\n                                            className={`${s.badge} ${s.badgePurple}`}\n                                        >\n                                            {c.type}\n                                        </span>\n                                        <span className={s.metaText}>\n                                            {c.events?.length || 0} events\n                                        </span>\n                                        {c.lastSync && (\n                                            <span className={s.metaText}>\n                                                synced{\" \"}\n                                                {new Date(\n                                                    c.lastSync,\n                                                ).toLocaleString()}\n                                            </span>\n                                        )}\n                                    </div>\n                                    {c.url && (\n                                        <div className={s.rowUrl}>{c.url}</div>\n                                    )}\n                                </div>\n                                <div className={s.rowActions}>\n                                    <button\n                                        className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                        onClick={() =>\n                                            openExport(\"calendar\", c.id, c.name)\n                                        }\n                                        title=\"Get ICS link\"\n                                    >\n                                        <Link size={12} />\n                                    </button>\n                                    {c.type === \"ics_url\" && (\n                                        <button\n                                            className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                            onClick={() => doSync(c.id)}\n                                            disabled={syncingId === c.id}\n                                        >\n                                            <RefreshCw size={12} />\n                                            {syncingId === c.id\n                                                ? \"Syncing…\"\n                                                : \"Sync\"}\n                                        </button>\n                                    )}\n                                    <button\n                                        className={`${s.btn} ${s.btnDanger} ${s.btnSm} ${s.btnIcon}`}\n                                        onClick={() => doDelete(c.id)}\n                                    >\n                                        <Trash2 size={13} />\n                                    </button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                )}\n            </div>\n\n            {accepted.length > 0 && (\n                <div className={s.section}>\n                    <div className={s.sectionHeader}>\n                        <span className={s.sectionTitle}>\n                            Friends' Calendars\n                        </span>\n                    </div>\n                    <div className={s.list}>\n                        {accepted.map((f) => {\n                            const friend =\n                                f.user1.id === uid ? f.user2 : f.user1;\n                            const shared = f.sharedWithMe ?? [];\n\n                            return (\n                                <div key={f.id} className={s.row}>\n                                    <div className={s.rowInfo}>\n                                        <div className={s.rowName}>\n                                            {friend.name || friend.email}\n                                        </div>\n                                        <div className={s.rowMeta}>\n                                            <span className={s.metaText}>\n                                                {friend.email}\n                                            </span>\n                                            {shared.length === 0 && (\n                                                <span className={s.metaText}>\n                                                    No calendars shared with you\n                                                </span>\n                                            )}\n                                        </div>\n                                    </div>\n                                    {shared.length > 0 && (\n                                        <div className={s.rowActions}>\n                                            {shared.map((cal) => (\n                                                <button\n                                                    key={cal.id}\n                                                    className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                                    onClick={() =>\n                                                        openExport(\n                                                            \"calendar\",\n                                                            cal.id,\n                                                            `${friend.name || friend.email} – ${cal.name}`,\n                                                        )\n                                                    }\n                                                >\n                                                    <Link size={12} />{\" \"}\n                                                    {cal.name}\n                                                </button>\n                                            ))}\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            )}\n            {showImport && (\n                <div className={s.overlay} onClick={closeImport}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>\n                                Import Calendar\n                            </span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={closeImport}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n\n                        {!selType ? (\n                            <div className={s.typeGrid}>\n                                {TYPES.map((t) => (\n                                    <button\n                                        key={t.value}\n                                        className={s.typeBtn}\n                                        disabled={!t.enabled}\n                                        onClick={() =>\n                                            t.enabled && setSelType(t.value)\n                                        }\n                                    >\n                                        <div className={s.typeName}>\n                                            {t.label}\n                                        </div>\n                                        <div className={s.typeDesc}>\n                                            {t.desc}\n                                        </div>\n                                    </button>\n                                ))}\n                            </div>\n                        ) : (\n                            <div className={s.formStack}>\n                                <button\n                                    className={s.backBtn}\n                                    onClick={() => setSelType(null)}\n                                >\n                                    ← Back\n                                </button>\n                                <div>\n                                    <label className={s.fieldLabel}>\n                                        Calendar Name\n                                    </label>\n                                    <input\n                                        className={s.input}\n                                        type=\"text\"\n                                        value={impName}\n                                        onChange={(e) =>\n                                            setImpName(e.target.value)\n                                        }\n                                        placeholder=\"My Calendar\"\n                                    />\n                                </div>\n                                <div>\n                                    <label className={s.fieldLabel}>\n                                        ICS URL\n                                    </label>\n                                    <input\n                                        className={s.input}\n                                        type=\"url\"\n                                        value={impUrl}\n                                        onChange={(e) =>\n                                            setImpUrl(e.target.value)\n                                        }\n                                        placeholder=\"https://example.com/calendar.ics\"\n                                        onKeyDown={(e) =>\n                                            e.key === \"Enter\" && doImport()\n                                        }\n                                    />\n                                    <div className={s.hint}>\n                                        Any public ICS/iCal URL — Google,\n                                        Outlook, Fastmail, etc.\n                                    </div>\n                                </div>\n                                {impErr && (\n                                    <div className={s.error}>{impErr}</div>\n                                )}\n                                <div className={s.formRow}>\n                                    <button\n                                        className={`${s.btn} ${s.btnPrimary}`}\n                                        style={{ flex: 1 }}\n                                        onClick={doImport}\n                                        disabled={\n                                            importing || !impName || !impUrl\n                                        }\n                                    >\n                                        {importing ? \"Importing…\" : \"Import\"}\n                                    </button>\n                                    <button\n                                        className={`${s.btn} ${s.btnSecondary}`}\n                                        onClick={closeImport}\n                                    >\n                                        Cancel\n                                    </button>\n                                </div>\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n\n            {showExport && (\n                <div className={s.overlay} onClick={() => setShowExport(false)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>\n                                ICS Subscription Link\n                            </span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setShowExport(false)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <p className={s.hint} style={{ marginBottom: \"1rem\" }}>\n                            Subscribe to{\" \"}\n                            <strong style={{ color: \"var(--text-primary)\" }}>\n                                {exportLabel}\n                            </strong>{\" \"}\n                            in any calendar app. This link stays live and always\n                            reflects the latest events.\n                        </p>\n                        <div className={s.linkRow}>\n                            <input\n                                readOnly\n                                className={s.linkInput}\n                                value={exportLink}\n                            />\n                            <button\n                                className={`${s.btn} ${s.btnPrimary} ${s.btnIcon}`}\n                                onClick={doCopy}\n                            >\n                                {copied ? (\n                                    <Check size={15} />\n                                ) : (\n                                    <Copy size={15} />\n                                )}\n                            </button>\n                        </div>\n                        {copied && (\n                            <div className={s.copiedMsg}>\n                                ✓ Copied to clipboard\n                            </div>\n                        )}\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1033, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/FriendsTab.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"badge\": \"FriendsTab-module__p9aSea__badge\",\n  \"badgeGreen\": \"FriendsTab-module__p9aSea__badgeGreen\",\n  \"badgeMuted\": \"FriendsTab-module__p9aSea__badgeMuted\",\n  \"badgeYellow\": \"FriendsTab-module__p9aSea__badgeYellow\",\n  \"btn\": \"FriendsTab-module__p9aSea__btn\",\n  \"btnDanger\": \"FriendsTab-module__p9aSea__btnDanger\",\n  \"btnIcon\": \"FriendsTab-module__p9aSea__btnIcon\",\n  \"btnPrimary\": \"FriendsTab-module__p9aSea__btnPrimary\",\n  \"btnSecondary\": \"FriendsTab-module__p9aSea__btnSecondary\",\n  \"btnSm\": \"FriendsTab-module__p9aSea__btnSm\",\n  \"btnSuccess\": \"FriendsTab-module__p9aSea__btnSuccess\",\n  \"checkBox\": \"FriendsTab-module__p9aSea__checkBox\",\n  \"checkBoxActive\": \"FriendsTab-module__p9aSea__checkBoxActive\",\n  \"closeBtn\": \"FriendsTab-module__p9aSea__closeBtn\",\n  \"empty\": \"FriendsTab-module__p9aSea__empty\",\n  \"emptyIcon\": \"FriendsTab-module__p9aSea__emptyIcon\",\n  \"error\": \"FriendsTab-module__p9aSea__error\",\n  \"fadein\": \"FriendsTab-module__p9aSea__fadein\",\n  \"fieldLabel\": \"FriendsTab-module__p9aSea__fieldLabel\",\n  \"formRow\": \"FriendsTab-module__p9aSea__formRow\",\n  \"formStack\": \"FriendsTab-module__p9aSea__formStack\",\n  \"friendBlock\": \"FriendsTab-module__p9aSea__friendBlock\",\n  \"input\": \"FriendsTab-module__p9aSea__input\",\n  \"list\": \"FriendsTab-module__p9aSea__list\",\n  \"loading\": \"FriendsTab-module__p9aSea__loading\",\n  \"modal\": \"FriendsTab-module__p9aSea__modal\",\n  \"modalHeader\": \"FriendsTab-module__p9aSea__modalHeader\",\n  \"modalSub\": \"FriendsTab-module__p9aSea__modalSub\",\n  \"modalTitle\": \"FriendsTab-module__p9aSea__modalTitle\",\n  \"overlay\": \"FriendsTab-module__p9aSea__overlay\",\n  \"page\": \"FriendsTab-module__p9aSea__page\",\n  \"pageHeader\": \"FriendsTab-module__p9aSea__pageHeader\",\n  \"pageTitle\": \"FriendsTab-module__p9aSea__pageTitle\",\n  \"row\": \"FriendsTab-module__p9aSea__row\",\n  \"rowActions\": \"FriendsTab-module__p9aSea__rowActions\",\n  \"rowEmail\": \"FriendsTab-module__p9aSea__rowEmail\",\n  \"rowInfo\": \"FriendsTab-module__p9aSea__rowInfo\",\n  \"rowMeta\": \"FriendsTab-module__p9aSea__rowMeta\",\n  \"rowName\": \"FriendsTab-module__p9aSea__rowName\",\n  \"section\": \"FriendsTab-module__p9aSea__section\",\n  \"sectionTitle\": \"FriendsTab-module__p9aSea__sectionTitle\",\n  \"shareCalName\": \"FriendsTab-module__p9aSea__shareCalName\",\n  \"shareList\": \"FriendsTab-module__p9aSea__shareList\",\n  \"sharePanel\": \"FriendsTab-module__p9aSea__sharePanel\",\n  \"shareRow\": \"FriendsTab-module__p9aSea__shareRow\",\n  \"shareRowName\": \"FriendsTab-module__p9aSea__shareRowName\",\n  \"slideup\": \"FriendsTab-module__p9aSea__slideup\",\n  \"spin\": \"FriendsTab-module__p9aSea__spin\",\n  \"spinner\": \"FriendsTab-module__p9aSea__spinner\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1088, "column": 0}, "map": {"version":3,"sources":["file:///app/components/FriendsTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect, useCallback } from \"react\";\nimport { UserPlus, X, Check, ChevronDown, ChevronUp, Link } from \"lucide-react\";\nimport { env } from \"@/lib/env\";\nimport s from \"./FriendsTab.module.css\";\n\ninterface FriendUser {\n    id: string;\n    email: string;\n    name?: string;\n}\ninterface Friendship {\n    id: string;\n    user1Id: string;\n    user1: FriendUser;\n    user2Id: string;\n    user2: FriendUser;\n    status: string;\n    createdAt: string;\n    sharedCalendarIds?: string[];\n}\ninterface CalendarData {\n    id: string;\n    name: string;\n    type: string;\n}\n\nfunction getUid(): string | null {\n    if (typeof window === \"undefined\") return null;\n    try {\n        return JSON.parse(atob(localStorage.getItem(\"token\") ?? \"\")).sub;\n    } catch {\n        return null;\n    }\n}\n\nexport default function FriendsTab() {\n    const [friends, setFriends] = useState<Friendship[]>([]);\n    const [calendars, setCalendars] = useState<CalendarData[]>([]);\n    const [loading, setLoading] = useState(true);\n\n    // Add friend modal\n    const [showAdd, setShowAdd] = useState(false);\n    const [addEmail, setAddEmail] = useState(\"\");\n    const [addErr, setAddErr] = useState(\"\");\n    const [addBusy, setAddBusy] = useState(false);\n\n    // Share panel open state per friendship\n    const [openShare, setOpenShare] = useState<string | null>(null);\n\n    const api = useCallback(\n        (path: string, opts?: RequestInit) =>\n            fetch(path, {\n                ...opts,\n                headers: {\n                    Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n                    ...(opts?.body\n                        ? { \"Content-Type\": \"application/json\" }\n                        : {}),\n                    ...(opts?.headers ?? {}),\n                },\n            }),\n        [],\n    );\n\n    const load = useCallback(async () => {\n        setLoading(true);\n        const [fr, cr] = await Promise.all([\n            api(\"/api/friends\"),\n            api(\"/api/calendars\"),\n        ]);\n        if (fr.ok) setFriends(await fr.json());\n        if (cr.ok) setCalendars(await cr.json());\n        setLoading(false);\n    }, [api]);\n\n    useEffect(() => {\n        load();\n    }, [load]);\n\n    const sendRequest = async (e: React.FormEvent) => {\n        e.preventDefault();\n        if (!addEmail.trim()) return;\n        setAddBusy(true);\n        setAddErr(\"\");\n        try {\n            // Backend accepts userId (which is actually the email — look up by email first)\n            const res = await api(\"/api/friends/request\", {\n                method: \"POST\",\n                body: JSON.stringify({ email: addEmail.trim() }),\n            });\n            const data = await res.json();\n            if (!res.ok) {\n                setAddErr(data.error ?? \"Failed to send request\");\n                return;\n            }\n            setShowAdd(false);\n            setAddEmail(\"\");\n            load();\n        } catch {\n            setAddErr(\"Network error\");\n        } finally {\n            setAddBusy(false);\n        }\n    };\n\n    const accept = async (id: string) => {\n        // Optimistic\n        setFriends((prev) =>\n            prev.map((f) => (f.id === id ? { ...f, status: \"accepted\" } : f)),\n        );\n        const res = await api(`/api/friends/${id}/accept`, { method: \"POST\" });\n        if (!res.ok) load();\n    };\n\n    const decline = async (id: string) => {\n        setFriends((prev) => prev.filter((f) => f.id !== id));\n        const res = await api(`/api/friends/${id}`, { method: \"DELETE\" });\n        if (!res.ok) load();\n    };\n\n    const toggleShare = async (friendship: Friendship, calendarId: string) => {\n        const uid = getUid();\n        const friendId =\n            friendship.user1Id === uid\n                ? friendship.user2Id\n                : friendship.user1Id;\n\n        const current = friendship.sharedCalendarIds ?? [];\n        const isShared = current.includes(calendarId);\n        const updated = isShared\n            ? current.filter((id) => id !== calendarId)\n            : [...current, calendarId];\n\n        const apply = (list: Friendship[]) =>\n            list.map((f) =>\n                f.id !== friendship.id\n                    ? f\n                    : { ...f, sharedCalendarIds: updated },\n            );\n        setFriends(apply);\n\n        await api(\"/api/friends/share-calendar\", {\n            method: \"POST\",\n            body: JSON.stringify({ friendId, calendarId, share: !isShared }),\n        });\n    };\n\n    const uid = getUid();\n    const incoming = friends.filter(\n        (f) => f.status === \"pending\" && f.user2Id === uid,\n    );\n    const outgoing = friends.filter(\n        (f) => f.status === \"pending\" && f.user1Id === uid,\n    );\n    const accepted = friends.filter((f) => f.status === \"accepted\");\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading…</span>\n            </div>\n        );\n\n    return (\n        <div className={s.page}>\n            <div className={s.pageHeader}>\n                <span className={s.pageTitle}>Friends</span>\n                <button\n                    className={`${s.btn} ${s.btnPrimary}`}\n                    onClick={() => setShowAdd(true)}\n                >\n                    <UserPlus size={14} /> Add friend\n                </button>\n            </div>\n\n            {/* Incoming requests */}\n            {incoming.length > 0 && (\n                <div className={s.section}>\n                    <div className={s.sectionTitle}>Requests</div>\n                    <div className={s.list}>\n                        {incoming.map((f) => {\n                            const other = f.user1;\n                            return (\n                                <div key={f.id} className={s.row}>\n                                    <div className={s.rowInfo}>\n                                        <div className={s.rowName}>\n                                            {other.name || other.email}\n                                        </div>\n                                        <div className={s.rowMeta}>\n                                            <span className={s.metaText}>\n                                                {other.email}\n                                            </span>\n                                        </div>\n                                    </div>\n                                    <div className={s.rowActions}>\n                                        <button\n                                            className={`${s.btn} ${s.btnPrimary} ${s.btnSm}`}\n                                            onClick={() => accept(f.id)}\n                                        >\n                                            <Check size={12} /> Accept\n                                        </button>\n                                        <button\n                                            className={`${s.btn} ${s.btnDanger} ${s.btnSm}`}\n                                            onClick={() => decline(f.id)}\n                                        >\n                                            <X size={12} /> Decline\n                                        </button>\n                                    </div>\n                                </div>\n                            );\n                        })}\n                    </div>\n                </div>\n            )}\n\n            {/* Accepted friends */}\n            <div className={s.section}>\n                <div className={s.sectionTitle}>Friends</div>\n                {accepted.length === 0 ? (\n                    <div className={s.empty}>\n                        <span>No friends yet</span>\n                    </div>\n                ) : (\n                    <div className={s.list}>\n                        {accepted.map((f) => {\n                            const other = f.user1Id === uid ? f.user2 : f.user1;\n                            const isOpen = openShare === f.id;\n                            const sharedCount =\n                                f.sharedCalendarIds?.length ?? 0;\n                            return (\n                                <div key={f.id} className={s.friendBlock}>\n                                    <div className={s.row}>\n                                        <div className={s.rowInfo}>\n                                            <div className={s.rowName}>\n                                                {other.name || other.email}\n                                            </div>\n                                            <div className={s.rowMeta}>\n                                                <span className={s.metaText}>\n                                                    {other.email}\n                                                </span>\n                                                {sharedCount > 0 && (\n                                                    <span\n                                                        className={`${s.badge} ${s.badgeGreen}`}\n                                                    >\n                                                        {sharedCount} shared\n                                                    </span>\n                                                )}\n                                            </div>\n                                        </div>\n                                        <div className={s.rowActions}>\n                                            <button\n                                                className={`${s.btn} ${s.btnSecondary} ${s.btnSm}`}\n                                                onClick={() =>\n                                                    setOpenShare(\n                                                        isOpen ? null : f.id,\n                                                    )\n                                                }\n                                            >\n                                                Share{\" \"}\n                                                {isOpen ? (\n                                                    <ChevronUp size={12} />\n                                                ) : (\n                                                    <ChevronDown size={12} />\n                                                )}\n                                            </button>\n                                            <button\n                                                className={`${s.btn} ${s.btnDanger} ${s.btnSm}`}\n                                                onClick={() => decline(f.id)}\n                                            >\n                                                <X size={12} />\n                                            </button>\n                                        </div>\n                                    </div>\n\n                                    {/* Inline share panel */}\n                                    {isOpen && (\n                                        <div className={s.sharePanel}>\n                                            {calendars.length === 0 ? (\n                                                <span className={s.metaText}>\n                                                    No calendars to share\n                                                </span>\n                                            ) : (\n                                                calendars.map((cal) => {\n                                                    const isShared =\n                                                        f.sharedCalendarIds?.includes(\n                                                            cal.id,\n                                                        ) ?? false;\n                                                    return (\n                                                        <label\n                                                            key={cal.id}\n                                                            className={\n                                                                s.shareRow\n                                                            }\n                                                        >\n                                                            <div\n                                                                className={`${s.checkBox}${isShared ? ` ${s.checkBoxActive}` : \"\"}`}\n                                                                onClick={() =>\n                                                                    toggleShare(\n                                                                        f,\n                                                                        cal.id,\n                                                                    )\n                                                                }\n                                                            >\n                                                                {isShared && (\n                                                                    <Check\n                                                                        size={9}\n                                                                        color=\"#fff\"\n                                                                    />\n                                                                )}\n                                                            </div>\n                                                            <span\n                                                                className={\n                                                                    s.shareCalName\n                                                                }\n                                                            >\n                                                                {cal.name}\n                                                            </span>\n                                                            <span\n                                                                className={`${s.badge} ${s.badgeMuted}`}\n                                                            >\n                                                                {cal.type}\n                                                            </span>\n                                                        </label>\n                                                    );\n                                                })\n                                            )}\n                                        </div>\n                                    )}\n                                </div>\n                            );\n                        })}\n                    </div>\n                )}\n            </div>\n\n            {/* Outgoing pending */}\n            {outgoing.length > 0 && (\n                <div className={s.section}>\n                    <div className={s.sectionTitle}>Sent requests</div>\n                    <div className={s.list}>\n                        {outgoing.map((f) => (\n                            <div key={f.id} className={s.row}>\n                                <div className={s.rowInfo}>\n                                    <div className={s.rowName}>\n                                        {f.user2.name || f.user2.email}\n                                    </div>\n                                    <div className={s.rowMeta}>\n                                        <span className={s.metaText}>\n                                            {f.user2.email}\n                                        </span>\n                                    </div>\n                                </div>\n                                <div className={s.rowActions}>\n                                    <span\n                                        className={`${s.badge} ${s.badgeMuted}`}\n                                    >\n                                        Pending\n                                    </span>\n                                    <button\n                                        className={`${s.btn} ${s.btnDanger} ${s.btnSm}`}\n                                        onClick={() => decline(f.id)}\n                                    >\n                                        <X size={12} />\n                                    </button>\n                                </div>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n            )}\n\n            {/* Add friend modal */}\n            {showAdd && (\n                <div className={s.overlay} onClick={() => setShowAdd(false)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>Add friend</span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setShowAdd(false)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <form className={s.formStack} onSubmit={sendRequest}>\n                            <div>\n                                <label className={s.fieldLabel}>\n                                    Email address\n                                </label>\n                                <input\n                                    className={s.input}\n                                    type=\"email\"\n                                    value={addEmail}\n                                    onChange={(e) =>\n                                        setAddEmail(e.target.value)\n                                    }\n                                    placeholder=\"friend@example.com\"\n                                    required\n                                    autoFocus\n                                />\n                            </div>\n                            {addErr && <div className={s.error}>{addErr}</div>}\n                            <div className={s.formRow}>\n                                <button\n                                    type=\"button\"\n                                    className={`${s.btn} ${s.btnSecondary}`}\n                                    style={{ flex: 1 }}\n                                    onClick={() => setShowAdd(false)}\n                                >\n                                    Cancel\n                                </button>\n                                <button\n                                    type=\"submit\"\n                                    className={`${s.btn} ${s.btnPrimary}`}\n                                    style={{ flex: 1 }}\n                                    disabled={addBusy}\n                                >\n                                    {addBusy ? \"Sending…\" : \"Send request\"}\n                                </button>\n                            </div>\n                        </form>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1845, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/CalendarTab.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"calBadgeFriend\": \"CalendarTab-module__qViykW__calBadgeFriend\",\n  \"calBadgeMine\": \"CalendarTab-module__qViykW__calBadgeMine\",\n  \"calDivider\": \"CalendarTab-module__qViykW__calDivider\",\n  \"calToggle\": \"CalendarTab-module__qViykW__calToggle\",\n  \"calToggleName\": \"CalendarTab-module__qViykW__calToggleName\",\n  \"calToggleOn\": \"CalendarTab-module__qViykW__calToggleOn\",\n  \"calendarArea\": \"CalendarTab-module__qViykW__calendarArea\",\n  \"cell\": \"CalendarTab-module__qViykW__cell\",\n  \"cellEmpty\": \"CalendarTab-module__qViykW__cellEmpty\",\n  \"cellToday\": \"CalendarTab-module__qViykW__cellToday\",\n  \"checkBox\": \"CalendarTab-module__qViykW__checkBox\",\n  \"checkBoxFriend\": \"CalendarTab-module__qViykW__checkBoxFriend\",\n  \"checkBoxMine\": \"CalendarTab-module__qViykW__checkBoxMine\",\n  \"closeBtn\": \"CalendarTab-module__qViykW__closeBtn\",\n  \"dayHeader\": \"CalendarTab-module__qViykW__dayHeader\",\n  \"dayHeaders\": \"CalendarTab-module__qViykW__dayHeaders\",\n  \"dayNum\": \"CalendarTab-module__qViykW__dayNum\",\n  \"fadein\": \"CalendarTab-module__qViykW__fadein\",\n  \"layout\": \"CalendarTab-module__qViykW__layout\",\n  \"loading\": \"CalendarTab-module__qViykW__loading\",\n  \"metaIcon\": \"CalendarTab-module__qViykW__metaIcon\",\n  \"metaLabel\": \"CalendarTab-module__qViykW__metaLabel\",\n  \"metaList\": \"CalendarTab-module__qViykW__metaList\",\n  \"metaRow\": \"CalendarTab-module__qViykW__metaRow\",\n  \"modal\": \"CalendarTab-module__qViykW__modal\",\n  \"modalHeader\": \"CalendarTab-module__qViykW__modalHeader\",\n  \"modalTitle\": \"CalendarTab-module__qViykW__modalTitle\",\n  \"monthCells\": \"CalendarTab-module__qViykW__monthCells\",\n  \"monthGrid\": \"CalendarTab-module__qViykW__monthGrid\",\n  \"monthLabel\": \"CalendarTab-module__qViykW__monthLabel\",\n  \"navBtn\": \"CalendarTab-module__qViykW__navBtn\",\n  \"navGroup\": \"CalendarTab-module__qViykW__navGroup\",\n  \"overflow\": \"CalendarTab-module__qViykW__overflow\",\n  \"overlay\": \"CalendarTab-module__qViykW__overlay\",\n  \"page\": \"CalendarTab-module__qViykW__page\",\n  \"pill\": \"CalendarTab-module__qViykW__pill\",\n  \"pillFriend\": \"CalendarTab-module__qViykW__pillFriend\",\n  \"pillMine\": \"CalendarTab-module__qViykW__pillMine\",\n  \"rightGroup\": \"CalendarTab-module__qViykW__rightGroup\",\n  \"sidebar\": \"CalendarTab-module__qViykW__sidebar\",\n  \"sidebarTitle\": \"CalendarTab-module__qViykW__sidebarTitle\",\n  \"slideup\": \"CalendarTab-module__qViykW__slideup\",\n  \"spin\": \"CalendarTab-module__qViykW__spin\",\n  \"spinner\": \"CalendarTab-module__qViykW__spinner\",\n  \"todayBtn\": \"CalendarTab-module__qViykW__todayBtn\",\n  \"todayCal\": \"CalendarTab-module__qViykW__todayCal\",\n  \"todayEmpty\": \"CalendarTab-module__qViykW__todayEmpty\",\n  \"todayEmptyIcon\": \"CalendarTab-module__qViykW__todayEmptyIcon\",\n  \"todayEvent\": \"CalendarTab-module__qViykW__todayEvent\",\n  \"todayHeader\": \"CalendarTab-module__qViykW__todayHeader\",\n  \"todayStrip\": \"CalendarTab-module__qViykW__todayStrip\",\n  \"todayStripFriend\": \"CalendarTab-module__qViykW__todayStripFriend\",\n  \"todayStripMine\": \"CalendarTab-module__qViykW__todayStripMine\",\n  \"todayTime\": \"CalendarTab-module__qViykW__todayTime\",\n  \"todayTitle\": \"CalendarTab-module__qViykW__todayTitle\",\n  \"todayView\": \"CalendarTab-module__qViykW__todayView\",\n  \"toolbar\": \"CalendarTab-module__qViykW__toolbar\",\n  \"viewBtn\": \"CalendarTab-module__qViykW__viewBtn\",\n  \"viewBtnActive\": \"CalendarTab-module__qViykW__viewBtnActive\",\n  \"viewGroup\": \"CalendarTab-module__qViykW__viewGroup\",\n  \"weekCol\": \"CalendarTab-module__qViykW__weekCol\",\n  \"weekColBody\": \"CalendarTab-module__qViykW__weekColBody\",\n  \"weekColHeader\": \"CalendarTab-module__qViykW__weekColHeader\",\n  \"weekDate\": \"CalendarTab-module__qViykW__weekDate\",\n  \"weekDateToday\": \"CalendarTab-module__qViykW__weekDateToday\",\n  \"weekDay\": \"CalendarTab-module__qViykW__weekDay\",\n  \"weekGrid\": \"CalendarTab-module__qViykW__weekGrid\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 1918, "column": 0}, "map": {"version":3,"sources":["file:///app/components/CalendarTab.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport {\n    ChevronLeft,\n    ChevronRight,\n    Clock,\n    MapPin,\n    X,\n    Tag,\n    Calendar,\n    Check,\n} from \"lucide-react\";\nimport s from \"./CalendarTab.module.css\";\n\ninterface CalEvent {\n    id: string;\n    title: string;\n    description?: string;\n    location?: string;\n    startTime: string;\n    endTime: string;\n    allDay: boolean;\n    isFriend?: boolean;\n    owner?: { id: string; name?: string; email: string } | null;\n    calendar: { id: string; name: string; type: string };\n}\ninterface CalSource {\n    id: string;\n    name: string;\n    isFriend: boolean;\n}\n\nconst MONTHS = [\n    \"January\",\n    \"February\",\n    \"March\",\n    \"April\",\n    \"May\",\n    \"June\",\n    \"July\",\n    \"August\",\n    \"September\",\n    \"October\",\n    \"November\",\n    \"December\",\n];\nconst DAYS = [\"Sun\", \"Mon\", \"Tue\", \"Wed\", \"Thu\", \"Fri\", \"Sat\"];\n\nfunction getUid(): string | null {\n    const t =\n        typeof window !== \"undefined\" ? localStorage.getItem(\"token\") : null;\n    if (!t) return null;\n    try {\n        return JSON.parse(atob(t)).sub;\n    } catch {\n        return null;\n    }\n}\n\nfunction startOfWeek(d: Date) {\n    const n = new Date(d);\n    n.setDate(d.getDate() - d.getDay());\n    return n;\n}\n\nexport default function CalendarTab() {\n    const [myEvents, setMyEvents] = useState<CalEvent[]>([]);\n    const [friendEvents, setFriendEvents] = useState<CalEvent[]>([]);\n    const [loading, setLoading] = useState(true);\n    const [date, setDate] = useState(new Date());\n    const [view, setView] = useState<\"month\" | \"week\" | \"today\">(\"month\");\n    const [detail, setDetail] = useState<CalEvent | null>(null);\n    const [sources, setSources] = useState<CalSource[]>([]);\n    const [hidden, setHidden] = useState<Set<string>>(new Set());\n\n    useEffect(() => {\n        load();\n    }, []);\n\n    const api = (path: string) =>\n        fetch(path, {\n            headers: {\n                Authorization: `Bearer ${localStorage.getItem(\"token\")}`,\n            },\n        });\n\n    const load = async () => {\n        setLoading(true);\n        const [er, fer, cr] = await Promise.all([\n            api(\"/api/events\"),\n            api(\"/api/events/friends\"),\n            api(\"/api/calendars\"),\n        ]);\n\n        const mine: CalEvent[] = er.ok ? await er.json() : [];\n        const friend: CalEvent[] = fer.ok ? await fer.json() : [];\n\n        setMyEvents(mine);\n        setFriendEvents(friend.map((e) => ({ ...e, isFriend: true })));\n\n        const newSources: CalSource[] = [];\n        if (cr.ok) {\n            const cals = await cr.json();\n            cals.forEach((c: any) =>\n                newSources.push({ id: c.id, name: c.name, isFriend: false }),\n            );\n        }\n\n        const seenCalIds = new Set<string>();\n        friend.forEach((e) => {\n            if (!e.owner) return;\n            if (seenCalIds.has(e.calendar.id)) return;\n            seenCalIds.add(e.calendar.id);\n            if (!newSources.find((src) => src.id === e.calendar.id)) {\n                newSources.push({\n                    id: e.calendar.id,\n                    name: `${e.owner.name || e.owner.email} – ${e.calendar.name}`,\n                    isFriend: true,\n                });\n            }\n        });\n\n        setSources(newSources);\n        setLoading(false);\n    };\n\n    const allEvents = [\n        ...myEvents.filter((e) => !hidden.has(e.calendar.id)),\n        ...friendEvents.filter((e) => !hidden.has(e.calendar.id)),\n    ];\n\n    const toggleSource = (id: string) =>\n        setHidden((prev) => {\n            const n = new Set(prev);\n            n.has(id) ? n.delete(id) : n.add(id);\n            return n;\n        });\n\n    // Navigation\n    const prev = () => {\n        if (view === \"month\")\n            setDate((d) => new Date(d.getFullYear(), d.getMonth() - 1, 1));\n        else if (view === \"week\")\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() - 7);\n                return n;\n            });\n    };\n    const next = () => {\n        if (view === \"month\")\n            setDate((d) => new Date(d.getFullYear(), d.getMonth() + 1, 1));\n        else if (view === \"week\")\n            setDate((d) => {\n                const n = new Date(d);\n                n.setDate(d.getDate() + 7);\n                return n;\n            });\n    };\n    const goToday = () => setDate(new Date());\n\n    // Month\n    const getMonthCells = () => {\n        const y = date.getFullYear(),\n            m = date.getMonth();\n        const cells: (number | null)[] = [];\n        for (let i = 0; i < new Date(y, m, 1).getDay(); i++) cells.push(null);\n        for (let i = 1; i <= new Date(y, m + 1, 0).getDate(); i++)\n            cells.push(i);\n        return cells;\n    };\n\n    const eventsForDay = (day: number) => {\n        const y = date.getFullYear(),\n            m = date.getMonth();\n        return allEvents.filter((e) => {\n            const d = new Date(e.startTime);\n            return (\n                d.getFullYear() === y &&\n                d.getMonth() === m &&\n                d.getDate() === day\n            );\n        });\n    };\n\n    const isCalToday = (d: Date | number) => {\n        const n = new Date();\n        const check =\n            typeof d === \"number\"\n                ? new Date(date.getFullYear(), date.getMonth(), d)\n                : d;\n        return check.toDateString() === n.toDateString();\n    };\n\n    // Week\n    const getWeekDays = () => {\n        const start = startOfWeek(date);\n        return Array.from({ length: 7 }, (_, i) => {\n            const d = new Date(start);\n            d.setDate(start.getDate() + i);\n            return d;\n        });\n    };\n\n    const eventsForDate = (d: Date) =>\n        allEvents.filter(\n            (e) => new Date(e.startTime).toDateString() === d.toDateString(),\n        );\n\n    // Today\n    const todayEvents = allEvents\n        .filter(\n            (e) =>\n                new Date(e.startTime).toDateString() ===\n                new Date().toDateString(),\n        )\n        .sort((a, b) => {\n            if (a.allDay && !b.allDay) return -1;\n            if (!a.allDay && b.allDay) return 1;\n            return (\n                new Date(a.startTime).getTime() -\n                new Date(b.startTime).getTime()\n            );\n        });\n\n    const fmt = (iso: string) =>\n        new Date(iso).toLocaleString([], {\n            dateStyle: \"medium\",\n            timeStyle: \"short\",\n        });\n    const fmtTime = (iso: string) =>\n        new Date(iso).toLocaleTimeString([], {\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n        });\n\n    const monthLabel = () => {\n        if (view === \"month\")\n            return `${MONTHS[date.getMonth()]} ${date.getFullYear()}`;\n        if (view === \"today\") {\n            const n = new Date();\n            return `${DAYS[n.getDay()]}, ${MONTHS[n.getMonth()]} ${n.getDate()}`;\n        }\n        const days = getWeekDays();\n        return `${MONTHS[days[0].getMonth()]} ${days[0].getDate()} – ${days[6].getDate()}, ${days[6].getFullYear()}`;\n    };\n\n    if (loading)\n        return (\n            <div className={s.loading}>\n                <div className={s.spinner} />\n                <span>Loading…</span>\n            </div>\n        );\n\n    const monthCells = getMonthCells();\n    const weekDays = getWeekDays();\n\n    return (\n        <div className={s.page}>\n            {/* Toolbar */}\n            <div className={s.toolbar}>\n                <div className={s.navGroup}>\n                    {view !== \"today\" && (\n                        <button className={s.navBtn} onClick={prev}>\n                            <ChevronLeft size={15} />\n                        </button>\n                    )}\n                    <span className={s.monthLabel}>{monthLabel()}</span>\n                    {view !== \"today\" && (\n                        <button className={s.navBtn} onClick={next}>\n                            <ChevronRight size={15} />\n                        </button>\n                    )}\n                </div>\n                <div className={s.rightGroup}>\n                    <button className={s.todayBtn} onClick={goToday}>\n                        Today\n                    </button>\n                    <div className={s.viewGroup}>\n                        {([\"month\", \"week\", \"today\"] as const).map((v) => (\n                            <button\n                                key={v}\n                                className={`${s.viewBtn}${view === v ? ` ${s.viewBtnActive}` : \"\"}`}\n                                onClick={() => setView(v)}\n                                style={{ textTransform: \"capitalize\" }}\n                            >\n                                {v}\n                            </button>\n                        ))}\n                    </div>\n                </div>\n            </div>\n\n            {/* Layout */}\n            <div className={s.layout}>\n                {/* Sidebar */}\n                {sources.length > 0 && (\n                    <div className={s.sidebar}>\n                        {sources.some((s) => !s.isFriend) && (\n                            <>\n                                <div className={s.sidebarTitle}>\n                                    My Calendars\n                                </div>\n                                {sources\n                                    .filter((src) => !src.isFriend)\n                                    .map((src) => {\n                                        const on = !hidden.has(src.id);\n                                        return (\n                                            <label\n                                                key={src.id}\n                                                className={`${s.calToggle}${on ? ` ${s.calToggleOn}` : \"\"}`}\n                                            >\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={on}\n                                                    onChange={() =>\n                                                        toggleSource(src.id)\n                                                    }\n                                                />\n                                                <div\n                                                    className={`${s.checkBox}${on ? ` ${s.checkBoxMine}` : \"\"}`}\n                                                >\n                                                    {on && (\n                                                        <Check\n                                                            size={8}\n                                                            color=\"#fff\"\n                                                        />\n                                                    )}\n                                                </div>\n                                                <span\n                                                    className={s.calToggleName}\n                                                    title={src.name}\n                                                >\n                                                    {src.name}\n                                                </span>\n                                            </label>\n                                        );\n                                    })}\n                            </>\n                        )}\n\n                        {sources.some((s) => s.isFriend) && (\n                            <>\n                                <div className={s.calDivider} />\n                                <div className={s.sidebarTitle}>Friends</div>\n                                {sources\n                                    .filter((src) => src.isFriend)\n                                    .map((src) => {\n                                        const on = !hidden.has(src.id);\n                                        return (\n                                            <label\n                                                key={src.id}\n                                                className={`${s.calToggle}${on ? ` ${s.calToggleOn}` : \"\"}`}\n                                            >\n                                                <input\n                                                    type=\"checkbox\"\n                                                    checked={on}\n                                                    onChange={() =>\n                                                        toggleSource(src.id)\n                                                    }\n                                                />\n                                                <div\n                                                    className={`${s.checkBox}${on ? ` ${s.checkBoxFriend}` : \"\"}`}\n                                                >\n                                                    {on && (\n                                                        <Check\n                                                            size={8}\n                                                            color=\"#fff\"\n                                                        />\n                                                    )}\n                                                </div>\n                                                <span\n                                                    className={s.calToggleName}\n                                                    title={src.name}\n                                                >\n                                                    {src.name}\n                                                </span>\n                                            </label>\n                                        );\n                                    })}\n                            </>\n                        )}\n                    </div>\n                )}\n\n                <div className={s.calendarArea}>\n                    {/* Month view */}\n                    {view === \"month\" && (\n                        <div className={s.monthGrid}>\n                            <div className={s.dayHeaders}>\n                                {DAYS.map((d) => (\n                                    <div key={d} className={s.dayHeader}>\n                                        {d}\n                                    </div>\n                                ))}\n                            </div>\n                            <div className={s.monthCells}>\n                                {monthCells.map((day, i) => {\n                                    if (day === null)\n                                        return (\n                                            <div\n                                                key={`e-${i}`}\n                                                className={`${s.cell} ${s.cellEmpty}`}\n                                            />\n                                        );\n                                    const dayEvs = eventsForDay(day);\n                                    const visible = dayEvs.slice(0, 2);\n                                    const overflow = dayEvs.length - 2;\n                                    return (\n                                        <div\n                                            key={day}\n                                            className={`${s.cell}${isCalToday(day) ? ` ${s.cellToday}` : \"\"}`}\n                                        >\n                                            <div className={s.dayNum}>\n                                                {day}\n                                            </div>\n                                            {visible.map((e) => (\n                                                <div\n                                                    key={e.id}\n                                                    className={`${s.pill} ${e.isFriend ? s.pillFriend : s.pillMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                    title={e.title}\n                                                >\n                                                    {e.allDay\n                                                        ? \"\"\n                                                        : `${fmtTime(e.startTime)} `}\n                                                    {e.title}\n                                                </div>\n                                            ))}\n                                            {overflow > 0 && (\n                                                <div className={s.overflow}>\n                                                    +{overflow}\n                                                </div>\n                                            )}\n                                        </div>\n                                    );\n                                })}\n                            </div>\n                        </div>\n                    )}\n\n                    {/* Week view */}\n                    {view === \"week\" && (\n                        <div className={s.weekGrid}>\n                            {weekDays.map((day) => {\n                                const dayEvs = eventsForDate(day);\n                                const today = isCalToday(day);\n                                return (\n                                    <div\n                                        key={day.toISOString()}\n                                        className={s.weekCol}\n                                    >\n                                        <div className={s.weekColHeader}>\n                                            <div className={s.weekDay}>\n                                                {DAYS[day.getDay()]}\n                                            </div>\n                                            <div\n                                                className={`${s.weekDate}${today ? ` ${s.weekDateToday}` : \"\"}`}\n                                            >\n                                                {day.getDate()}\n                                            </div>\n                                        </div>\n                                        <div className={s.weekColBody}>\n                                            {dayEvs.map((e) => (\n                                                <div\n                                                    key={e.id}\n                                                    className={`${s.pill} ${e.isFriend ? s.pillFriend : s.pillMine}`}\n                                                    onClick={() => setDetail(e)}\n                                                    title={e.title}\n                                                >\n                                                    {e.allDay\n                                                        ? \"All day\"\n                                                        : fmtTime(\n                                                              e.startTime,\n                                                          )}{\" \"}\n                                                    · {e.title}\n                                                </div>\n                                            ))}\n                                        </div>\n                                    </div>\n                                );\n                            })}\n                        </div>\n                    )}\n\n                    {/* Today view */}\n                    {view === \"today\" && (\n                        <div className={s.todayView}>\n                            <div className={s.todayHeader}>\n                                {todayEvents.length} event\n                                {todayEvents.length !== 1 ? \"s\" : \"\"} today\n                            </div>\n                            {todayEvents.length === 0 ? (\n                                <div className={s.todayEmpty}>\n                                    <Calendar\n                                        size={36}\n                                        className={s.todayEmptyIcon}\n                                    />\n                                    <span>Nothing scheduled today</span>\n                                </div>\n                            ) : (\n                                todayEvents.map((e) => (\n                                    <div\n                                        key={e.id}\n                                        className={s.todayEvent}\n                                        onClick={() => setDetail(e)}\n                                    >\n                                        <div\n                                            className={`${s.todayStrip} ${e.isFriend ? s.todayStripFriend : s.todayStripMine}`}\n                                        />\n                                        <div className={s.todayTime}>\n                                            {e.allDay\n                                                ? \"All day\"\n                                                : fmtTime(e.startTime)}\n                                        </div>\n                                        <div style={{ flex: 1, minWidth: 0 }}>\n                                            <div className={s.todayTitle}>\n                                                {e.title}\n                                            </div>\n                                            <div className={s.todayCal}>\n                                                {e.isFriend\n                                                    ? `${e.owner?.name || e.owner?.email} · ${e.calendar.name}`\n                                                    : e.calendar.name}\n                                            </div>\n                                        </div>\n                                    </div>\n                                ))\n                            )}\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Event detail modal */}\n            {detail && (\n                <div className={s.overlay} onClick={() => setDetail(null)}>\n                    <div\n                        className={s.modal}\n                        onClick={(e) => e.stopPropagation()}\n                    >\n                        <div className={s.modalHeader}>\n                            <span className={s.modalTitle}>{detail.title}</span>\n                            <button\n                                className={s.closeBtn}\n                                onClick={() => setDetail(null)}\n                            >\n                                <X size={18} />\n                            </button>\n                        </div>\n                        <div className={s.metaList}>\n                            <div className={s.metaRow}>\n                                <Clock size={14} className={s.metaIcon} />\n                                <div>\n                                    <div className={s.metaLabel}>Time</div>\n                                    {detail.allDay\n                                        ? \"All day\"\n                                        : `${fmt(detail.startTime)} – ${fmtTime(detail.endTime)}`}\n                                </div>\n                            </div>\n                            {detail.location && (\n                                <div className={s.metaRow}>\n                                    <MapPin size={14} className={s.metaIcon} />\n                                    <div>\n                                        <div className={s.metaLabel}>\n                                            Location\n                                        </div>\n                                        {detail.location}\n                                    </div>\n                                </div>\n                            )}\n                            {detail.description && (\n                                <div className={s.metaRow}>\n                                    <Tag size={14} className={s.metaIcon} />\n                                    <div>\n                                        <div className={s.metaLabel}>Notes</div>\n                                        {detail.description}\n                                    </div>\n                                </div>\n                            )}\n                            <div className={s.metaRow}>\n                                <Calendar size={14} className={s.metaIcon} />\n                                <div>\n                                    <div className={s.metaLabel}>Calendar</div>\n                                    <span\n                                        className={\n                                            detail.isFriend\n                                                ? s.calBadgeFriend\n                                                : s.calBadgeMine\n                                        }\n                                    >\n                                        {detail.isFriend\n                                            ? `${detail.owner?.name || detail.owner?.email} · ${detail.calendar.name}`\n                                            : detail.calendar.name}\n                                    </span>\n                                </div>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2844, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/components/AuthModal.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"closeBtn\": \"AuthModal-module__DLnrsa__closeBtn\",\n  \"error\": \"AuthModal-module__DLnrsa__error\",\n  \"fadein\": \"AuthModal-module__DLnrsa__fadein\",\n  \"field\": \"AuthModal-module__DLnrsa__field\",\n  \"form\": \"AuthModal-module__DLnrsa__form\",\n  \"header\": \"AuthModal-module__DLnrsa__header\",\n  \"input\": \"AuthModal-module__DLnrsa__input\",\n  \"label\": \"AuthModal-module__DLnrsa__label\",\n  \"logoLabel\": \"AuthModal-module__DLnrsa__logoLabel\",\n  \"logoRow\": \"AuthModal-module__DLnrsa__logoRow\",\n  \"modal\": \"AuthModal-module__DLnrsa__modal\",\n  \"overlay\": \"AuthModal-module__DLnrsa__overlay\",\n  \"slideup\": \"AuthModal-module__DLnrsa__slideup\",\n  \"spin\": \"AuthModal-module__DLnrsa__spin\",\n  \"spinner\": \"AuthModal-module__DLnrsa__spinner\",\n  \"submitBtn\": \"AuthModal-module__DLnrsa__submitBtn\",\n  \"successMsg\": \"AuthModal-module__DLnrsa__successMsg\",\n  \"switchBtn\": \"AuthModal-module__DLnrsa__switchBtn\",\n  \"switchRow\": \"AuthModal-module__DLnrsa__switchRow\",\n  \"switchText\": \"AuthModal-module__DLnrsa__switchText\",\n  \"title\": \"AuthModal-module__DLnrsa__title\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 2871, "column": 0}, "map": {"version":3,"sources":["file:///app/components/AuthModal.tsx"],"sourcesContent":["\"use client\";\nimport { useState } from \"react\";\nimport { X, Share2 } from \"lucide-react\";\nimport { env } from \"@/lib/env\";\nimport s from \"./AuthModal.module.css\";\n\ninterface Props {\n    onClose: () => void;\n    onLogin: (token: string) => void;\n}\n\nexport default function AuthModal({ onClose, onLogin }: Props) {\n    const [isLogin, setIsLogin] = useState(true);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [name, setName] = useState(\"\");\n    const [loading, setLoading] = useState(false);\n    const [error, setError] = useState(\"\");\n    const [success, setSuccess] = useState(\"\");\n\n    const submit = async (e: React.FormEvent) => {\n        e.preventDefault();\n        setLoading(true);\n        setError(\"\");\n        setSuccess(\"\");\n        try {\n            const res = await fetch(\n                `${env.API_URL}${isLogin ? \"/api/users/login\" : \"/api/users/register\"}`,\n                {\n                    method: \"POST\",\n                    headers: { \"Content-Type\": \"application/json\" },\n                    body: JSON.stringify(\n                        isLogin\n                            ? { email, password }\n                            : { email, password, name },\n                    ),\n                },\n            );\n            const data = await res.json();\n            if (!res.ok) throw new Error(data.error || \"Authentication failed\");\n            if (isLogin) {\n                onLogin(data.token);\n            } else {\n                setSuccess(\"Account created! Please sign in.\");\n                setIsLogin(true);\n                setEmail(\"\");\n                setPassword(\"\");\n                setName(\"\");\n            }\n        } catch (err) {\n            setError(\n                err instanceof Error ? err.message : \"Something went wrong\",\n            );\n        } finally {\n            setLoading(false);\n        }\n    };\n\n    const switchMode = () => {\n        setIsLogin(!isLogin);\n        setError(\"\");\n        setSuccess(\"\");\n    };\n\n    return (\n        <div className={s.overlay} onClick={onClose}>\n            <div className={s.modal} onClick={(e) => e.stopPropagation()}>\n                <div className={s.header}>\n                    <div>\n                        <div className={s.logoRow}>\n                            <Share2 size={13} color=\"var(--purple-400)\" />\n                            <span className={s.logoLabel}>SocialAnimal</span>\n                        </div>\n                        <h2 className={s.title}>\n                            {isLogin ? \"Welcome back\" : \"Create account\"}\n                        </h2>\n                    </div>\n                    <button className={s.closeBtn} onClick={onClose}>\n                        <X size={18} />\n                    </button>\n                </div>\n\n                <form className={s.form} onSubmit={submit}>\n                    {!isLogin && (\n                        <div className={s.field}>\n                            <label className={s.label}>Name</label>\n                            <input\n                                className={s.input}\n                                type=\"text\"\n                                value={name}\n                                onChange={(e) => setName(e.target.value)}\n                                placeholder=\"Your name\"\n                            />\n                        </div>\n                    )}\n                    <div className={s.field}>\n                        <label className={s.label}>Email</label>\n                        <input\n                            className={s.input}\n                            type=\"email\"\n                            value={email}\n                            onChange={(e) => setEmail(e.target.value)}\n                            placeholder=\"you@example.com\"\n                            required\n                        />\n                    </div>\n                    <div className={s.field}>\n                        <label className={s.label}>Password</label>\n                        <input\n                            className={s.input}\n                            type=\"password\"\n                            value={password}\n                            onChange={(e) => setPassword(e.target.value)}\n                            placeholder=\"••••••••\"\n                            required\n                        />\n                    </div>\n\n                    {error && <div className={s.error}>{error}</div>}\n                    {success && <div className={s.successMsg}>{success}</div>}\n\n                    <button\n                        type=\"submit\"\n                        className={s.submitBtn}\n                        disabled={loading}\n                    >\n                        {loading && <div className={s.spinner} />}\n                        {loading\n                            ? \"Please wait…\"\n                            : isLogin\n                              ? \"Sign in\"\n                              : \"Create account\"}\n                    </button>\n                </form>\n\n                <div className={s.switchRow}>\n                    <span className={s.switchText}>\n                        {isLogin\n                            ? \"Don't have an account? \"\n                            : \"Already have an account? \"}\n                    </span>\n                    <button className={s.switchBtn} onClick={switchMode}>\n                        {isLogin ? \"Sign up\" : \"Sign in\"}\n                    </button>\n                </div>\n            </div>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3181, "column": 0}, "map": {"version":3,"sources":["turbopack:///[project]/app/page.module.css [app-ssr] (css module)"],"sourcesContent":["__turbopack_context__.v({\n  \"active\": \"page-module__E0kJGG__active\",\n  \"brand\": \"page-module__E0kJGG__brand\",\n  \"brandIcon\": \"page-module__E0kJGG__brandIcon\",\n  \"brandName\": \"page-module__E0kJGG__brandName\",\n  \"ctaBtn\": \"page-module__E0kJGG__ctaBtn\",\n  \"ctaRow\": \"page-module__E0kJGG__ctaRow\",\n  \"h1\": \"page-module__E0kJGG__h1\",\n  \"header\": \"page-module__E0kJGG__header\",\n  \"landing\": \"page-module__E0kJGG__landing\",\n  \"landingInner\": \"page-module__E0kJGG__landingInner\",\n  \"logoWrap\": \"page-module__E0kJGG__logoWrap\",\n  \"logoutBtn\": \"page-module__E0kJGG__logoutBtn\",\n  \"main\": \"page-module__E0kJGG__main\",\n  \"page\": \"page-module__E0kJGG__page\",\n  \"pill\": \"page-module__E0kJGG__pill\",\n  \"pillRow\": \"page-module__E0kJGG__pillRow\",\n  \"tabBar\": \"page-module__E0kJGG__tabBar\",\n  \"tabBtn\": \"page-module__E0kJGG__tabBtn\",\n  \"tagline\": \"page-module__E0kJGG__tagline\",\n});\n"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA"}},
    {"offset": {"line": 3206, "column": 0}, "map": {"version":3,"sources":["file:///app/app/page.tsx"],"sourcesContent":["\"use client\";\nimport { useState, useEffect } from \"react\";\nimport { Share2, LayoutDashboard, Users, Calendar, LogOut } from \"lucide-react\";\nimport GeneralTab from \"@/components/GeneralTab\";\nimport FriendsTab from \"@/components/FriendsTab\";\nimport CalendarTab from \"@/components/CalendarTab\";\nimport AuthModal from \"@/components/AuthModal\";\nimport s from \"./page.module.css\";\n\nconst TABS = [\n    { id: \"general\", label: \"Dashboard\", Icon: LayoutDashboard },\n    { id: \"friends\", label: \"Friends\", Icon: Users },\n    { id: \"calendar\", label: \"Calendar\", Icon: Calendar },\n];\n\nexport default function HomePage() {\n    const [activeTab, setActiveTab] = useState(\"general\");\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [showAuth, setShowAuth] = useState(false);\n\n    useEffect(() => {\n        if (localStorage.getItem(\"token\")) setIsAuthenticated(true);\n    }, []);\n\n    const login = (token: string) => {\n        localStorage.setItem(\"token\", token);\n        setIsAuthenticated(true);\n        setShowAuth(false);\n    };\n    const logout = () => {\n        localStorage.removeItem(\"token\");\n        setIsAuthenticated(false);\n    };\n\n    if (!isAuthenticated)\n        return (\n            <div className={s.landing}>\n                <div className={s.landingInner}>\n                    <div className={s.logoWrap}>\n                        <Share2 size={26} color=\"var(--purple-400)\" />\n                    </div>\n                    <h1 className={s.h1}>SocialAnimal</h1>\n                    <p className={s.tagline}>\n                        Open-source calendar sharing for friends.\n                        <br />\n                        Import from Google, Apple, Proton or any ICS feed.\n                    </p>\n                    <div className={s.ctaRow}>\n                        <button\n                            className={s.ctaBtn}\n                            onClick={() => setShowAuth(true)}\n                        >\n                            Get Started\n                        </button>\n                    </div>\n                    <div className={s.pillRow}>\n                        {[\"Google\", \"Apple\", \"Proton\", \"ICS URL\"].map((f) => (\n                            <span key={f} className={s.pill}>\n                                {f}\n                            </span>\n                        ))}\n                    </div>\n                </div>\n                {showAuth && (\n                    <AuthModal\n                        onLogin={login}\n                        onClose={() => setShowAuth(false)}\n                    />\n                )}\n            </div>\n        );\n\n    return (\n        <div className={s.page}>\n            <header className={s.header}>\n                <div className={s.brand}>\n                    <div className={s.brandIcon}>\n                        <Share2 size={13} color=\"var(--purple-400)\" />\n                    </div>\n                    <span className={s.brandName}>SocialAnimal</span>\n                </div>\n                <button className={s.logoutBtn} onClick={logout}>\n                    <LogOut size={13} /> Sign out\n                </button>\n            </header>\n\n            <nav className={s.tabBar}>\n                {TABS.map(({ id, label, Icon }) => (\n                    <button\n                        key={id}\n                        onClick={() => setActiveTab(id)}\n                        className={`${s.tabBtn}${activeTab === id ? ` ${s.active}` : \"\"}`}\n                    >\n                        <Icon size={14} />\n                        {label}\n                    </button>\n                ))}\n            </nav>\n\n            <main className={s.main}>\n                {activeTab === \"general\" && <GeneralTab />}\n                {activeTab === \"friends\" && <FriendsTab />}\n                {activeTab === \"calendar\" && <CalendarTab />}\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":"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"}}]
}